<h1 id="range-v3">range-v3</h1>
<p>Range library for C++11/14/17. This code is the basis of <a href="https://ericniebler.github.io/std/wg21/D4128.html">a formal proposal</a> to add range support to the C++ standard library.</p>
<h2 id="about">About:</h2>
<p>Why does C++ need another range library? Simply put, the existing solutions haven't kept up with the rapid evolution of C++. Range v3 is a library for the future C++. Not only does it work well with today's C++ -- move semantics, lambdas, automatically deduced types and all -- it also anticipates tomorrow's C++ with Concepts.</p>
<p>Range v3 forms the basis of a proposal to add range support to the standard library (<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4128.html">N4128: Ranges for the Standard Library</a>). It also will be the reference implementation for an upcoming Technical Specification. These are the first steps toward turning ranges into an international standard.</p>
<h2 id="documentation">Documentation:</h2>
<p>Check out the (woefully incomplete) documentation <a href="https://ericniebler.github.io/range-v3/">here</a>.</p>
<p>Other resources (mind the dates, the library probably has changed since then):</p>
<ul>
<li>Usage:</li>
<li>Talk: <a href="https://www.youtube.com/watch?v=mFUXNMfaciE">CppCon 2015: Eric Niebler &quot;Ranges for the Standard Library&quot;</a>, 2015.</li>
<li><a href="http://ericniebler.com/2014/12/07/a-slice-of-python-in-c/">A slice of Python in C++</a>, 07.12.2014.</li>
<li>Actions (back then called <a href="http://ericniebler.com/2014/11/23/container-algorithms/">Container Algorithms</a>), 23.11.2014.</li>
<li><a href="http://ericniebler.com/2014/04/27/range-comprehensions/">Range comprehensions</a>, 27.04.2014.</li>
<li><p><a href="http://ericniebler.com/2013/11/07/input-iterators-vs-input-ranges/">Input iterators vs input ranges</a>, 07.11.2013.</p></li>
<li>Design / Implementation:</li>
<li>Rationale behind range-v3: <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4128.html">N4128: Ranges for the standard library Revision 1</a>, 2014.</li>
<li>Ranges TS: <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4560.pdf">N4560: C++ Extensions for Ranges</a>, 2015.</li>
<li>Implementation of customization points in range-v3:
<ul>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4381.html">N4381: Suggested Design for Customization Points</a>, 2015.</li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0386r0.pdf">P0386: Inline variables</a>, 2016.</li>
<li><a href="http://ericniebler.com/2014/10/21/customization-point-design-in-c11-and-beyond/">Customization Point Design in C++11 and Beyond</a>, 2014.</li>
</ul></li>
<li>Proxy iterators in range-v3:
<ul>
<li><a href="https://ericniebler.github.io/std/wg21/D0022.html">D0022: Proxy Iterators for the Ranges Extensions</a>.</li>
<li><a href="http://ericniebler.com/2015/01/28/to-be-or-not-to-be-an-iterator/">To Be or Not to Be (an Iterator)</a>, 2015.</li>
<li><a href="http://ericniebler.com/2015/02/03/iterators-plus-plus-part-1/">Iterators++: Part1</a>, 2015.</li>
<li><a href="http://ericniebler.com/2015/02/13/iterators-plus-plus-part-2/">Iterators++: Part2</a>, 2015.</li>
<li><a href="http://ericniebler.com/2015/03/03/iterators-plus-plus-part-3/">Iterators++: Part3</a>, 2015.</li>
</ul></li>
<li>Metaprogramming utilities:
<ul>
<li>See the <a href="https://ericniebler.github.io/meta/index.html">meta documentation</a>, the library has changed significantly since the <a href="http://ericniebler.com/2014/11/13/tiny-metaprogramming-library/">2014 blog post</a>.</li>
</ul></li>
<li>Concept emulation layer: <a href="http://ericniebler.com/2013/11/23/concept-checking-in-c11/">Concept checking in C++11</a>, 2013.</li>
<li><p><a href="https://www.youtube.com/watch?v=zgOF4NrQllo">C++Now 2014: Eric Niebler &quot;C++11 Library Design&quot;</a>, 2014.</p></li>
</ul>
<h2 id="license">License:</h2>
<p>Most of the source code in this project are mine, and those are under the Boost Software License. Parts are taken from Alex Stepanov's Elements of Programming, Howard Hinnant's libc++, and from the SGI STL. Please see the attached LICENSE file and the CREDITS file for the licensing and acknowledgments.</p>
<h2 id="supported-compilers">Supported Compilers</h2>
<p>The code is known to work on the following compilers:</p>
<ul>
<li>clang 3.6.2 (or later)</li>
<li>GCC 4.9.1 (or later) (C++14 support requires GCC 5.2; C++14 &quot;extended constexpr&quot; support is poor before 6.1.)</li>
<li>Clang/LLVM 6 (or later) on Windows (older versions may work - we haven't tested.)</li>
</ul>
<p>[ Note: We've &quot;retired&quot; support for Clang/C2 with the VS2015 toolset (i.e., the <code>v140_clang_c2</code> toolset) which Microsoft no longer supports for C++ use. We no longer have CI runs, but haven't gone out of our way to break anything, so it will likely continue to work. ]</p>
<p><strong>Development Status:</strong> This code is fairly stable, well-tested, and suitable for casual use, although currently lacking documentation. No promise is made about support or long-term stability. This code <em>will</em> evolve without regard to backwards compatibility.</p>
<p><strong>Build status</strong> - on Travis-CI: <a href="https://travis-ci.org/ericniebler/range-v3"><img src="https://travis-ci.org/ericniebler/range-v3.svg?branch=master" alt="Travis Build Status" /></a> - on AppVeyor: <a href="https://ci.appveyor.com/project/ericniebler/range-v3"><img src="https://ci.appveyor.com/api/projects/status/fwl9ymc2t6ukn9qj/branch/master?svg=true" alt="AppVeyor Build Status" /></a></p>
<h2 id="release-notes">Release Notes:</h2>
<ul>
<li><strong>0.4.0</strong> Oct 18, 2018</li>
<li>Minor interface-breaking changes:
<ul>
<li><code>single_view</code> returns by <code>const &amp;</code> (see <a href="https://github.com/ericniebler/range-v3/issues/817">#817</a>).</li>
<li><code>reverse_view</code> of a non-Sized, non-Bounded RandomAccess range (eg., a null-terminated string) no longer satisfies SizedRange.</li>
<li>The <code>generate</code> and <code>generate_n</code> views now return the generated values by xvalue reference (<code>T &amp;&amp;</code>) to the value cached within the view (see <a href="https://github.com/ericniebler/range-v3/issues/905">#905</a>).</li>
<li>Views no longer prefer returning constant iterators when they can; some views have different constant and mutable iterators.</li>
</ul></li>
<li>Enhancements:
<ul>
<li>Views can successfully adapt other views that have different constant and mutable iterators.</li>
<li>The <code>single</code> and <code>empty</code> views are much closer to the versions as specified in <a href="http://wg21.link/P0896">P0896</a>.</li>
</ul></li>
<li>Bug fixes:
<ul>
<li>&quot;single_view should not copy the value&quot; <a href="https://github.com/ericniebler/range-v3/issues/817">#817</a>.</li>
<li>&quot;Calling back() on strided range does not return the correct last value in range&quot; <a href="https://github.com/ericniebler/range-v3/issues/901">#901</a>.</li>
<li>&quot;generate(foo) | take(n) calls foo n+1 times&quot; <a href="https://github.com/ericniebler/range-v3/issues/819">#819</a>.</li>
<li>&quot;generate seems broken with move-only return types&quot; <a href="https://github.com/ericniebler/range-v3/issues/905">#905</a>.</li>
<li>&quot;Unexpected behavior in generate with return by reference&quot; <a href="https://github.com/ericniebler/range-v3/issues/807">#807</a>.</li>
<li>&quot;Inconsistent behaviour of ranges::distance with ranges::view::zip using infinite views.&quot; <a href="https://github.com/ericniebler/range-v3/issues/783">#783</a>.</li>
<li>&quot;Infinite loop when using ranges::view::cycle with an infinite range&quot; <a href="https://github.com/ericniebler/range-v3/issues/780">#780</a>.</li>
<li>&quot;Composing ranges::view::cycle with ranges::view::slice&quot; <a href="https://github.com/ericniebler/range-v3/issues/778">#778</a>.</li>
<li>&quot;cartesian_product view, now with moar bugs.&quot; <a href="https://github.com/ericniebler/range-v3/issues/919">#919</a>.</li>
</ul></li>
<li><strong>0.3.7</strong> Sept 19, 2018</li>
<li>Improved support for clang-cl (thanks to <span class="citation">@CaseyCarter</span>).</li>
<li>Fix for <code>any_view&lt;T, category::sized | category::input&gt;</code> (see #869).</li>
<li>Fix <code>iter_move</code> of a <code>ranges::reverse_iterator</code> (see #888).</li>
<li>Fix <code>move_sentinel</code> comparisons (see #889).</li>
<li>Avoid ambiguity created by <code>boost::advance</code> and <code>std::advance</code> (see #893).</li>
<li><strong>0.3.6</strong> May 15, 2018</li>
<li>NEW: <code>view::exclusive_scan</code> (thanks to GitHub user <span class="citation">@mitsutaka-takeda</span>).</li>
<li>All views get non-<code>const</code> overloads of <code>.empty()</code> and <code>.size()</code> (see <a href="https://github.com/ericniebler/stl2/issues/793">ericniebler/stl2#793</a>).</li>
<li>Upgrade Conan support for conan 1.0.</li>
<li><code>subspan</code> interface tweaks.</li>
<li>Fix bug in <code>view::split</code> (see <a href="https://stackoverflow.com/questions/49015671">this stackoverflow question</a>).</li>
<li>Fix bug in <code>view::stride</code> (see <a href="https://github.com/ericniebler/stl2/issues/805">ericniebler/stl2#805</a>).</li>
<li>Fix <code>const</code>-correctness problem in <code>view::chunk</code> (see <a href="https://stackoverflow.com/questions/49210190">this stackoverflow question</a>).</li>
<li>Replace uses of <code>ranges::result_of</code> with <code>ranges::invoke_result</code>.</li>
<li>Fix potentialÂ buffer overrun of <code>view::drop</code> over RandomAccessRanges.</li>
<li>Lots of <code>view::cartesian_product</code> fixes (see <a href="https://github.com/ericniebler/stl2/issues/820">ericniebler/stl2#820</a>, <a href="https://github.com/ericniebler/stl2/issues/823">ericniebler/stl2#823</a>).</li>
<li>Work around gcc-8 regression regarding <code>volatile</code> <code>std::initializer_list</code>s (see <a href="https://github.com/ericniebler/stl2/issues/826">ericniebler/stl2#826</a>).</li>
<li>Fix <code>const</code>-correctness problem of <code>view::take</code>.</li>
<li><strong>0.3.5</strong> February 17, 2018</li>
<li>Rvalues may satisfy <code>Writable</code> (see <a href="https://github.com/ericniebler/stl2/issues/387">ericniebler/stl2#387</a>).</li>
<li><code>view_interface</code> gets a bounds-checking <code>at</code> method.</li>
<li><code>chunk_view</code> works on Input ranges.</li>
<li>Fix bug in <code>group_by_view</code>.</li>
<li>Improved concept checks for <code>partial_sum</code> numeric algorithm.</li>
<li>Define <code>ContiguousIterator</code> concept and <code>contiguous_iterator_tag</code> iterator category tag.</li>
<li>Sundry <code>span</code> fixes.</li>
<li><code>action::insert</code> avoids interfering with <code>vector</code>'s exponentional growth strategy.</li>
<li>Add an experimental <code>shared</code> view for views that need container-like scratch space to do their work.</li>
<li>Faster, simpler <code>reverse_view</code>.</li>
<li>Rework <code>ranges::reference_wrapper</code> to avoid <a href="https://wg21.link/lwg2993">LWG#2993</a>.</li>
<li>Reworked <code>any_view</code>, the type-erased view wrapper.</li>
<li><code>equal</code> algorithm is <code>constexpr</code> in C++14.</li>
<li><code>stride_view</code> no longer needs an <code>atomic</code> data member.</li>
<li><code>const</code>-correct <code>drop_view</code>.</li>
<li><code>adjacent_filter_view</code> supports bidirectional iteration.</li>
<li>Massive <code>view_adaptor</code> cleanup to remove the need for a <code>mutable</code> data member holding the adapted view.</li>
<li>Fix <code>counting_iterator</code> post-increment bug.</li>
<li><code>tail_view</code> of an empty range is an empty range, not undefined behavior.</li>
<li>Various portability fixes for gcc and clang trunk.</li>
<li><strong>0.3.0</strong> June 30, 2017</li>
<li>Input views may now be move-only (from <span class="citation">@CaseyCarter</span>)</li>
<li>Input <code>any_view</code>s are now <em>much</em> more efficient (from <span class="citation">@CaseyCarter</span>)</li>
<li>Better support for systems lacking a working <code>&lt;thread&gt;</code> header (from <span class="citation">@CaseyCarter</span>)</li>
<li><strong>0.2.6</strong> June 21, 2017</li>
<li>Experimental coroutines with <code>ranges::experimental::generator</code> (from <span class="citation">@CaseyCarter</span>)</li>
<li><code>ranges::optional</code> now behaves like <code>std::optional</code> (from <span class="citation">@CaseyCarter</span>)</li>
<li>Extensive bug fixes with Input ranges (from <span class="citation">@CaseyCarter</span>)</li>
<li><strong>0.2.5</strong> May 16, 2017</li>
<li><code>view::chunk</code> works on Input ranges (from <span class="citation">@CaseyCarter</span>)</li>
<li><code>for_each_n</code> algorithm (from <span class="citation">@khlebnikov</span>)</li>
<li>Portability fixes for MinGW, clang-3.6 and -3.7, and gcc-7; and cmake 3.0</li>
<li><strong>0.2.4</strong> April 12, 2017 Fix the following bug:</li>
<li><code>action::stable_sort</code> of <code>vector</code> broken on Clang 3.8.1 since ~last Xmas (ericniebler/range-v3#632).</li>
<li><strong>0.2.3</strong> April 4, 2017 Fix the following bug:</li>
<li>iterators that return move-only types by value do not satisfy Readable (ericniebler/stl2#399).</li>
<li><strong>0.2.2</strong> March 30, 2017 New in this release:</li>
<li><code>view::linear_distribute(from,to,n)</code> - A view of <code>n</code> elements between <code>from</code> and <code>to</code>, distributed evenly.</li>
<li><code>view::indices(n)</code> - A view of the indices <code>[0,1,2...n-1]</code>.</li>
<li><code>view::closed_indices(n)</code> - A view of the indices <code>[0,1,2...n]</code>.</li>
</ul>
<p>This release deprecates <code>view::ints(n)</code> as confusing to new users. * <strong>0.2.1</strong> March 22, 2017 New in this release: - <code>view::cartesian_product</code> - <code>action::reverse</code> * <strong>0.2.0</strong> March 13, 2017 Bring many interfaces into sync with the Ranges TS. - Many interfaces are simply renamed. The following table shows the old names and the new. (All names are in the <code>ranges::v3</code> namespace.)</p>
<pre><code>| Old Name                      | New Name                  |
|-------------------------------|---------------------------|
| `indirect_swap`               | `iter_swap`               |
| `indirect_move`               | `iter_move`               |
| `iterator_value_t`            | `value_type_t`            |
| `iterator_reference_t`        | `reference_t`             |
| `iterator_difference_t`       | `difference_type_t`       |
| `iterator_size_t`             | `size_type_t`             |
| `iterator_rvalue_reference_t` | `rvalue_reference_t`      |
| `iterator_common_reference_t` | `iter_common_reference_t` |
| `range_value_t`               | `range_value_type_t`      |
| `range_difference_t`          | `range_difference_type_t` |
| `range_size_t`                | `range_size_type_t`       |
| `range_iterator_t`            | `iterator_t`              |
| `range_sentinel_t`            | `sentinel_t`              |</code></pre>
<ul>
<li><code>common_iterator</code> now requires that its two types (<code>Iterator</code> and <code>Sentinel</code>) are different. Use <code>common_iterator_t&lt;I, S&gt;</code> to get the old behavior (i.e., if the two types are the same, it is an alias for <code>I</code>; otherwise, it is <code>common_iterator&lt;I, S&gt;</code>).</li>
<li>The following iterator adaptors now work with iterators that return proxies from their postfix increment operator (i.e., <code>operator++(int)</code>):
<ul>
<li><code>common_iterator</code></li>
<li><code>counted_iterator</code></li>
</ul></li>
<li>The following customization points are now implemented per the Ranges TS spec and will no longer find the associated unconstrained overload in namespace <code>std::</code>:
<ul>
<li><code>ranges::begin</code></li>
<li><code>ranges::end</code></li>
<li><code>ranges::size</code></li>
<li><code>ranges::swap</code></li>
<li><code>ranges::iter_swap</code></li>
</ul>
(In practice, this has very little effect but it may effect overloading in rare situations.)</li>
<li><code>ranges::is_swappable</code> now only takes one template parameter. The new <code>ranges::is_swappable_with&lt;T, U&gt;</code> tests whether <code>T</code> and <code>U</code> are swappable. <code>ranges::is_swappable&lt;T&gt;</code> is equivalent to <code>ranges::is_swappable_with&lt;T &amp;, T &amp;&gt;</code>.</li>
<li>The following object concepts have changed to conform with the Ranges TS specification, and approved changes (see <a href="http://wg21.link/p0547">P0547</a>):
<ul>
<li><code>Destructible</code></li>
<li><code>Constructible</code></li>
<li><code>DefaultConstructible</code></li>
<li><code>MoveConstructible</code></li>
<li><code>MoveConstructible</code></li>
<li><code>Movable</code></li>
<li><code>Assignable</code></li>
</ul></li>
<li>The <code>View</code> concept is no longer satisfied by reference types.</li>
<li>The syntax for defining a concept has changed slightly. See <a href="https://github.com/ericniebler/range-v3/blob/master/include/range/v3/utility/iterator_concepts.hpp">utility/iterator_concepts.hpp</a> for examples.</li>
<li><strong>0.1.1</strong> Small tweak to <code>Writable</code> concept to fix #537.</li>
<li><strong>0.1.0</strong> March 8, 2017, Begin semantic versioning</li>
</ul>
<h2 id="say-thanks">Say Thanks!</h2>
<p>I do this work because I love it and because I love C++ and want it to be as excellent as I know it can be. If you like my work and are looking for a way to say thank you, you can leave a supportive comment on <a href="http://ericniebler.com">my blog</a>. Or you could leave me some kudos on my Open Hub range-v3 contribution page. Just click the <strong>Give Kudos</strong> button <a href="https://www.openhub.net/p/range-v3/contributors/3053743222308608">here</a>.</p>
