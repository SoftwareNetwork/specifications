<p><img src="doc/logo/rapidjson.png" /></p>
<p><img
src="https://img.shields.io/badge/release-v1.1.0-blue.png" /></p>
<h2 id="a-fast-json-parsergenerator-for-c-with-both-saxdom-style-api">A
fast JSON parser/generator for C++ with both SAX/DOM style API</h2>
<p>Tencent is pleased to support the open source community by making
RapidJSON available.</p>
<p>Copyright (C) 2015 THL A29 Limited, a Tencent company, and Milo Yip.
All rights reserved.</p>
<ul>
<li><a href="https://github.com/miloyip/rapidjson/">RapidJSON
GitHub</a></li>
<li>RapidJSON Documentation
<ul>
<li><a href="http://rapidjson.org/">English</a></li>
<li><a href="http://rapidjson.org/zh-cn/">简体中文</a></li>
<li><a
href="https://www.gitbook.com/book/miloyip/rapidjson/">GitBook</a> with
downloadable PDF/EPUB/MOBI, without API reference.</li>
</ul></li>
</ul>
<h2 id="build-status">Build status</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><a
href="https://travis-ci.org/miloyip/rapidjson"
title="Travis build status">Linux</a></th>
<th style="text-align: center;"><a
href="https://ci.appveyor.com/project/miloyip/rapidjson/branch/master"
title="AppVeyor build status">Windows</a></th>
<th style="text-align: center;"><a
href="https://coveralls.io/r/miloyip/rapidjson?branch=master">Coveralls</a></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img
src="https://travis-ci.org/miloyip/rapidjson.png?branch=master"
title="Travis build status" alt="lin-badge" /></td>
<td style="text-align: center;"><img
src="https://ci.appveyor.com/api/projects/status/u658dcuwxo14a8m9/branch/master"
title="AppVeyor build status" alt="win-badge" /></td>
<td style="text-align: center;"><img
src="https://coveralls.io/repos/miloyip/rapidjson/badge.png?branch=master"
alt="cov-badge" /></td>
</tr>
</tbody>
</table>
<h2 id="introduction">Introduction</h2>
<p>RapidJSON is a JSON parser and generator for C++. It was inspired by
<a href="http://rapidxml.sourceforge.net/">RapidXml</a>.</p>
<ul>
<li><p>RapidJSON is <strong>small</strong> but
<strong>complete</strong>. It supports both SAX and DOM style API. The
SAX parser is only a half thousand lines of code.</p></li>
<li><p>RapidJSON is <strong>fast</strong>. Its performance can be
comparable to <code>strlen()</code>. It also optionally supports
SSE2/SSE4.2 for acceleration.</p></li>
<li><p>RapidJSON is <strong>self-contained</strong> and
<strong>header-only</strong>. It does not depend on external libraries
such as BOOST. It even does not depend on STL.</p></li>
<li><p>RapidJSON is <strong>memory-friendly</strong>. Each JSON value
occupies exactly 16 bytes for most 32/64-bit machines (excluding text
string). By default it uses a fast memory allocator, and the parser
allocates memory compactly during parsing.</p></li>
<li><p>RapidJSON is <strong>Unicode-friendly</strong>. It supports
UTF-8, UTF-16, UTF-32 (LE &amp; BE), and their detection, validation and
transcoding internally. For example, you can read a UTF-8 file and let
RapidJSON transcode the JSON strings into UTF-16 in the DOM. It also
supports surrogates and “000” (null character).</p></li>
</ul>
<p>More features can be read <a href="doc/features.md">here</a>.</p>
<p>JSON(JavaScript Object Notation) is a light-weight data exchange
format. RapidJSON should be in fully compliance with RFC7159/ECMA-404,
with optional support of relaxed syntax. More information about JSON can
be obtained at * <a href="http://json.org/">Introducing JSON</a> * <a
href="http://www.ietf.org/rfc/rfc7159.txt">RFC7159: The JavaScript
Object Notation (JSON) Data Interchange Format</a> * <a
href="http://www.ecma-international.org/publications/standards/Ecma-404.htm">Standard
ECMA-404: The JSON Data Interchange Format</a></p>
<h2 id="highlights-in-v1.1-2016-8-25">Highlights in v1.1
(2016-8-25)</h2>
<ul>
<li>Added <a href="doc/pointer.md">JSON Pointer</a></li>
<li>Added <a href="doc/schema.md">JSON Schema</a></li>
<li>Added <a href="doc/dom.md">relaxed JSON syntax</a> (comment,
trailing comma, NaN/Infinity)</li>
<li>Iterating array/object with <a href="doc/tutorial.md">C++11
Range-based for loop</a></li>
<li>Reduce memory overhead of each <code>Value</code> from 24 bytes to
16 bytes in x86-64 architecture.</li>
</ul>
<p>For other changes please refer to <a href="CHANGELOG.md">change
log</a>.</p>
<h2 id="compatibility">Compatibility</h2>
<p>RapidJSON is cross-platform. Some platform/compiler combinations
which have been tested are shown as follows. * Visual C++ 2008/2010/2013
on Windows (32/64-bit) * GNU C++ 3.8.x on Cygwin * Clang 3.4 on Mac OS X
(32/64-bit) and iOS * Clang 3.4 on Android NDK</p>
<p>Users can build and run the unit tests on their
platform/compiler.</p>
<h2 id="installation">Installation</h2>
<p>RapidJSON is a header-only C++ library. Just copy the
<code>include/rapidjson</code> folder to system or project’s include
path.</p>
<p>RapidJSON uses following software as its dependencies: * <a
href="https://cmake.org/">CMake</a> as a general build tool *
(optional)<a href="http://www.doxygen.org">Doxygen</a> to build
documentation * (optional)<a
href="https://github.com/google/googletest">googletest</a> for unit and
performance testing</p>
<p>To generate user documentation and run tests please proceed with the
steps below:</p>
<ol type="1">
<li>Execute <code>git submodule update --init</code> to get the files of
thirdparty submodules (google test).</li>
<li>Create directory called <code>build</code> in rapidjson source
directory.</li>
<li>Change to <code>build</code> directory and run <code>cmake ..</code>
command to configure your build. Windows users can do the same with
cmake-gui application.</li>
<li>On Windows, build the solution found in the build directory. On
Linux, run <code>make</code> from the build directory.</li>
</ol>
<p>On successfull build you will find compiled test and example binaries
in <code>bin</code> directory. The generated documentation will be
available in <code>doc/html</code> directory of the build tree. To run
tests after finished build please run <code>make test</code> or
<code>ctest</code> from your build tree. You can get detailed output
using <code>ctest -V</code> command.</p>
<p>It is possible to install library system-wide by running
<code>make install</code> command from the build tree with
administrative privileges. This will install all files according to
system preferences. Once RapidJSON is installed, it is possible to use
it from other CMake projects by adding
<code>find_package(RapidJSON)</code> line to your CMakeLists.txt.</p>
<h2 id="usage-at-a-glance">Usage at a glance</h2>
<p>This simple example parses a JSON string into a document (DOM), make
a simple modification of the DOM, and finally stringify the DOM to a
JSON string.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">// rapidjson/example/simpledom/simpledom.cpp`</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;rapidjson/document.h&quot;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;rapidjson/writer.h&quot;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;rapidjson/stringbuffer.h&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> rapidjson<span class="op">;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 1. Parse a JSON string into DOM.</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">const</span> <span class="dt">char</span><span class="op">*</span> json <span class="op">=</span> <span class="st">&quot;{</span><span class="sc">\&quot;</span><span class="st">project</span><span class="sc">\&quot;</span><span class="st">:</span><span class="sc">\&quot;</span><span class="st">rapidjson</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">stars</span><span class="sc">\&quot;</span><span class="st">:10}&quot;</span><span class="op">;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    Document d<span class="op">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    d<span class="op">.</span>Parse<span class="op">(</span>json<span class="op">);</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 2. Modify it by DOM.</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    Value<span class="op">&amp;</span> s <span class="op">=</span> d<span class="op">[</span><span class="st">&quot;stars&quot;</span><span class="op">];</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    s<span class="op">.</span>SetInt<span class="op">(</span>s<span class="op">.</span>GetInt<span class="op">()</span> <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 3. Stringify the DOM</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    StringBuffer buffer<span class="op">;</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    Writer<span class="op">&lt;</span>StringBuffer<span class="op">&gt;</span> writer<span class="op">(</span>buffer<span class="op">);</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    d<span class="op">.</span>Accept<span class="op">(</span>writer<span class="op">);</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Output {&quot;project&quot;:&quot;rapidjson&quot;,&quot;stars&quot;:11}</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cout <span class="op">&lt;&lt;</span> buffer<span class="op">.</span>GetString<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Note that this example did not handle potential errors.</p>
<p>The following diagram shows the process.</p>
<figure>
<img src="doc/diagram/simpledom.png" alt="simpledom" />
<figcaption aria-hidden="true">simpledom</figcaption>
</figure>
<p>More <a
href="https://github.com/miloyip/rapidjson/tree/master/example">examples</a>
are available:</p>
<ul>
<li><p>DOM API</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/tutorial/tutorial.cpp">tutorial</a>:
Basic usage of DOM API.</p></li>
<li><p>SAX API</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/simplereader/simplereader.cpp">simplereader</a>:
Dumps all SAX events while parsing a JSON by
<code>Reader</code>.</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/condense/condense.cpp">condense</a>:
A command line tool to rewrite a JSON, with all whitespaces
removed.</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/pretty/pretty.cpp">pretty</a>:
A command line tool to rewrite a JSON with indents and newlines by
<code>PrettyWriter</code>.</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/capitalize/capitalize.cpp">capitalize</a>:
A command line tool to capitalize strings in JSON.</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/messagereader/messagereader.cpp">messagereader</a>:
Parse a JSON message with SAX API.</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/serialize/serialize.cpp">serialize</a>:
Serialize a C++ object into JSON with SAX API.</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/jsonx/jsonx.cpp">jsonx</a>:
Implements a <code>JsonxWriter</code> which stringify SAX events into <a
href="https://www-01.ibm.com/support/knowledgecenter/SS9H2Y_7.1.0/com.ibm.dp.doc/json_jsonx.html">JSONx</a>
(a kind of XML) format. The example is a command line tool which
converts input JSON into JSONx format.</p></li>
<li><p>Schema</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/schemavalidator/schemavalidator.cpp">schemavalidator</a>
: A command line tool to validate a JSON with a JSON schema.</p></li>
<li><p>Advanced</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/prettyauto/prettyauto.cpp">prettyauto</a>:
A modified version of <a
href="https://github.com/miloyip/rapidjson/blob/master/example/pretty/pretty.cpp">pretty</a>
to automatically handle JSON with any UTF encodings.</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/parsebyparts/parsebyparts.cpp">parsebyparts</a>:
Implements an <code>AsyncDocumentParser</code> which can parse JSON in
parts, using C++11 thread.</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/filterkey/filterkey.cpp">filterkey</a>:
A command line tool to remove all values with user-specified
key.</p></li>
<li><p><a
href="https://github.com/miloyip/rapidjson/blob/master/example/filterkeydom/filterkeydom.cpp">filterkeydom</a>:
Same tool as above, but it demonstrates how to use a generator to
populate a <code>Document</code>.</p></li>
</ul>
