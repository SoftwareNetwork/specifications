<figure>
<img src="https://www.libressl.org/images/libressl.jpg"
alt="LibreSSL image" />
<figcaption aria-hidden="true">LibreSSL image</figcaption>
</figure>
<h2 id="official-portable-version-of-libressl">Official portable version
of <a href="https://www.libressl.org">LibreSSL</a></h2>
<p><a
href="https://github.com/libressl/portable/actions/workflows/linux.yml"><img
src="https://github.com/libressl/portable/actions/workflows/linux.yml/badge.svg"
alt="Linux Build Status" /></a> <a
href="https://github.com/libressl/portable/actions/workflows/macos.yml"><img
src="https://github.com/libressl/portable/actions/workflows/macos.yml/badge.svg"
alt="macOS Build Status" /></a> <a
href="https://github.com/libressl/portable/actions/workflows/windows.yml"><img
src="https://github.com/libressl/portable/actions/workflows/windows.yml/badge.svg"
alt="Windows Build Status" /></a> <a
href="https://github.com/libressl/portable/actions/workflows/android.yml"><img
src="https://github.com/libressl/portable/actions/workflows/android.yml/badge.svg"
alt="Android Build Status" /></a> <a
href="https://github.com/libressl/portable/actions/workflows/solaris.yml"><img
src="https://github.com/libressl/portable/actions/workflows/solaris.yml/badge.svg"
alt="Solaris Build Status" /></a> <a
href="https://bugs.chromium.org/p/oss-fuzz/issues/list?sort=-opened&amp;can=1&amp;q=proj:libressl"><img
src="https://oss-fuzz-build-logs.storage.googleapis.com/badges/libressl.svg"
alt="Fuzzing Status" /></a></p>
<p>LibreSSL is a fork of <a href="https://www.openssl.org">OpenSSL</a>
1.0.1g developed by the <a href="https://www.openbsd.org">OpenBSD</a>
project. Our goal is to modernize the codebase, improve security, and
apply best practice development processes from OpenBSD.</p>
<h2 id="compatibility-with-openssl">Compatibility with OpenSSL</h2>
<p>LibreSSL provides much of the OpenSSL 1.1 API. The OpenSSL 3 API is
not currently supported. Incompatibilities between the projects exist
and are unavoidable since both evolve with different goals and
priorities. Important incompatibilities will be addressed if possible
and as long as they are not too detrimental to LibreSSL’s goals of
simplicity, security and sanity. We do not add new features, ciphers and
API without a solid reason and require that new code be clean and of
high quality.</p>
<p>LibreSSL is not ABI compatible with any release of OpenSSL, or
necessarily earlier releases of LibreSSL. You will need to relink your
programs to LibreSSL in order to use it, just as in moving between major
versions of OpenSSL. LibreSSL’s installed library version numbers are
incremented to account for ABI and API changes.</p>
<h2 id="compatibility-with-other-operating-systems">Compatibility with
other operating systems</h2>
<p>While primarily developed on and taking advantage of APIs available
on OpenBSD, the LibreSSL portable project attempts to provide working
alternatives for other operating systems, and assists with improving
OS-native implementations where possible.</p>
<p>At the time of this writing, LibreSSL is known to build and work
on:</p>
<ul>
<li>Linux (kernel 3.17 or later recommended)</li>
<li>FreeBSD (tested with 9.2 and later)</li>
<li>NetBSD (7.0 or later recommended)</li>
<li>HP-UX (11i)</li>
<li>Solaris 11 and later</li>
<li>Mac OS X (tested with 10.8 and later)</li>
<li>AIX (5.3 and later)</li>
<li>Emscripten (3.1.44 and later)</li>
</ul>
<p>LibreSSL also supports the following Windows environments:</p>
<ul>
<li>Microsoft Windows (Windows 7 / Windows Server 2008r2 or later, x86
and x64)</li>
<li>Wine (32-bit and 64-bit)</li>
<li>MinGW-w64, Cygwin, and Visual Studio</li>
</ul>
<p>Official release tarballs are available at your friendly neighborhood
OpenBSD mirror in directory <a
href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/">LibreSSL</a>,
although we suggest that you use a <a
href="https://www.openbsd.org/ftp.html">mirror</a>.</p>
<p>The LibreSSL portable build framework is also <a
href="https://github.com/libressl/portable">mirrored</a> on GitHub.</p>
<p>Please report bugs either to the public libressl@openbsd.org mailing
list, or to the GitHub <a
href="https://github.com/libressl/portable/issues">issue tracker</a></p>
<p>Severe vulnerabilities or bugs requiring coordination with OpenSSL
can be sent to the core team at libressl-security@openbsd.org.</p>
<h1 id="building-libressl">Building LibreSSL</h1>
<h2 id="building-from-a-git-checkout">Building from a Git checkout</h2>
<p>If you have checked out this source using Git, or have downloaded a
source tarball from GitHub, follow these initial steps to prepare the
source tree for building. <em>Note: Your build will fail if you do not
follow these instructions! If you cannot follow these instructions or
cannot meet these prerequisites, please download an official release
distribution from https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/ instead.
Using official releases is strongly advised if you are not a
developer.</em></p>
<ol type="1">
<li>Ensure that you have a bash shell. This is also required on
Windows.</li>
<li>Ensure that you have the following packages installed: automake,
autoconf, git, libtool, perl.</li>
<li>Run <code>./autogen.sh</code> to prepare the source tree for
building.</li>
</ol>
<h2 id="build-steps-using-configure">Build steps using configure</h2>
<p>Once you have the source tree prepared, run these commands to build
and install:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./configure</span>   <span class="co"># see ./configure --help for configuration options</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> check    <span class="co"># runs builtin unit tests</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> install  <span class="co"># set DESTDIR= to install to an alternate location</span></span></code></pre></div>
<p>Alternatively, it is possible to run <code>./dist.sh</code> to
prepare a tarball.</p>
<h2 id="build-steps-using-cmake">Build steps using CMake</h2>
<p>Once you have the source tree prepared, run these commands to build
and install:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> build</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> build</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cmake</span> ..</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> test</span></code></pre></div>
<p>For faster builds, you can use Ninja:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> build-ninja</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> build-ninja</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cmake</span> <span class="at">-G</span><span class="st">&quot;Ninja&quot;</span> ..</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ex">ninja</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">ninja</span> test</span></code></pre></div>
<p>Or another supported build system like Visual Studio:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> build-vs2022</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> build-vs2022</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cmake</span> <span class="at">-G</span><span class="st">&quot;Visual Studio 17 2022&quot;</span> ..</span></code></pre></div>
<h4 id="additional-cmake-options">Additional CMake Options</h4>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 6%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Option Name</th>
<th style="text-align: right;">Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>LIBRESSL_SKIP_INSTALL</code></td>
<td style="text-align: right;"><code>OFF</code></td>
<td>allows skipping install() rules. Can be specified from command line
using <br><code>-DLIBRESSL_SKIP_INSTALL=ON</code></td>
</tr>
<tr class="even">
<td><code>LIBRESSL_APPS</code></td>
<td style="text-align: right;"><code>ON</code></td>
<td>allows skipping application builds. Apps are required to run
tests</td>
</tr>
<tr class="odd">
<td><code>LIBRESSL_TESTS</code></td>
<td style="text-align: right;"><code>ON</code></td>
<td>allows skipping of tests. Tests are only available in static
builds</td>
</tr>
<tr class="even">
<td><code>BUILD_SHARED_LIBS</code></td>
<td style="text-align: right;"><code>OFF</code></td>
<td>CMake option for building shared libraries.</td>
</tr>
<tr class="odd">
<td><code>ENABLE_ASM</code></td>
<td style="text-align: right;"><code>ON</code></td>
<td>builds assembly optimized rules.</td>
</tr>
<tr class="even">
<td><code>ENABLE_EXTRATESTS</code></td>
<td style="text-align: right;"><code>OFF</code></td>
<td>Enable extra tests that may be unreliable on some platforms</td>
</tr>
<tr class="odd">
<td><code>ENABLE_NC</code></td>
<td style="text-align: right;"><code>OFF</code></td>
<td>Enable installing TLS-enabled nc(1)</td>
</tr>
<tr class="even">
<td><code>OPENSSLDIR</code></td>
<td style="text-align: right;">Blank</td>
<td>Set the default openssl directory. Can be specified from command
line using <br><code>-DOPENSSLDIR=&lt;dirname&gt;</code></td>
</tr>
</tbody>
</table>
<h2 id="build-information-for-specific-systems">Build information for
specific systems</h2>
<h3 id="hp-ux-11i">HP-UX (11i)</h3>
<p>Set the UNIX_STD environment variable to <code>2003</code> before
running <code>configure</code> in order to build with the HP C/aC++
compiler. See the “standards(5)” man page for more details.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">UNIX_STD</span><span class="op">=</span>2003</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">./configure</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span></span></code></pre></div>
<h3 id="mingw-w64---windows">MinGW-w64 - Windows</h3>
<p>LibreSSL builds against relatively recent versions of <a
href="https://www.mingw-w64.org/">MinGW-w64</a>, not to be confused with
the original mingw.org project. MinGW-w64 3.2 or later should work. See
<a href="README.mingw.md">README.mingw.md</a> for more information.</p>
<h3 id="emscripten">Emscripten</h3>
<p>When configuring LibreSSL for use with Emscripten, make sure to
prepend <code>emcmake</code> to your <code>cmake</code> configuration
command. Once configured, you can proceed with your usual
<code>cmake</code> commands. For example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">emcmake</span> cmake . <span class="at">-Bbuild</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cmake</span> <span class="at">--build</span> build <span class="at">--config</span> Release</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">ctest</span> <span class="at">--test-dir</span> build <span class="at">-C</span> Release <span class="at">--output-on-failure</span></span></code></pre></div>
<h1 id="using-libressl">Using LibreSSL</h1>
<h2 id="cmake">CMake</h2>
<p>Make a new folder in your project root (where your main
<code>CMakeLists.txt</code> file is located) called CMake. Copy the
<code>FindLibreSSL.cmake</code> file to that folder, and add the
following line to your main <code>CMakeLists.txt</code>:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode cmake"><code class="sourceCode cmake"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span>(<span class="dv">CMAKE_MODULE_PATH</span> <span class="st">&quot;</span><span class="dv">${CMAKE_CURRENT_SOURCE_DIR}</span><span class="st">/CMake;</span><span class="dv">${CMAKE_MODULE_PATH}</span><span class="st">&quot;</span>)</span></code></pre></div>
<p>After your <code>add_executable</code> or <code>add_library</code>
line in your <code>CMakeLists.txt</code> file add the following:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode cmake"><code class="sourceCode cmake"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">find_package</span>(LibreSSL <span class="ot">REQUIRED</span>)</span></code></pre></div>
<p>It will tell CMake to find LibreSSL and if found will let you use the
following 3 interfaces in your <code>CMakeLists.txt</code> file:</p>
<ul>
<li>LibreSSL::Crypto</li>
<li>LibreSSL::SSL</li>
<li>LibreSSL::TLS</li>
</ul>
<p>If you for example want to use the LibreSSL TLS library in your test
program, include it like so (SSL and Crypto are required by TLS and
included automatically too):</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode cmake"><code class="sourceCode cmake"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">target_link_libraries</span>(<span class="bn">test</span> <span class="bn">LibreSSL::TLS</span>)</span></code></pre></div>
<p>Full example:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode cmake"><code class="sourceCode cmake"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">cmake_minimum_required</span>(<span class="ot">VERSION</span> <span class="dt">3.10.0</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span>(<span class="dv">CMAKE_MODULE_PATH</span> <span class="st">&quot;</span><span class="dv">${CMAKE_CURRENT_SOURCE_DIR}</span><span class="st">/CMake;</span><span class="dv">${CMAKE_MODULE_PATH}</span><span class="st">&quot;</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="kw">project</span>(test)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="kw">add_executable</span>(<span class="bn">test</span> Main.cpp)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="kw">find_package</span>(LibreSSL <span class="ot">REQUIRED</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="kw">target_link_libraries</span>(<span class="bn">test</span> <span class="bn">LibreSSL::TLS</span>)</span></code></pre></div>
<h4 id="linux">Linux</h4>
<p>Following the guide in the sections above to compile LibreSSL using
make and running <code>sudo make install</code> will install LibreSSL to
the <code>/usr/local/</code> folder, and will be found automatically by
find_package. If your system installs it to another location, or you
have placed them yourself in a different location, you can set the CMake
variable <code>LIBRESSL_ROOT_DIR</code> to the correct path, to help
CMake find the library.</p>
<h4 id="windows">Windows</h4>
<p>Placing the library files in
<code>C:/Program Files/LibreSSL/lib</code> and the include files in
<code>C:/Program Files/LibreSSL/include</code> should let CMake find
them automatically, but it is recommended that you use CMake-GUI to set
the paths. It is more convenient as you can have the files in any folder
you choose.</p>
