<h1 id="opensubdiv">OpenSubdiv</h1>
<p>OpenSubdiv is a set of open source libraries that implement high
performance subdivision surface (subdiv) evaluation on massively
parallel CPU and GPU architectures. This codepath is optimized for
drawing deforming subdivs with static topology at interactive
framerates. The resulting limit surface matches Pixar’s Renderman to
numerical precision.</p>
<p>OpenSubdiv is covered by the Apache license, and is free to use for
commercial or non-commercial use. This is the same code that Pixar uses
internally for animated film production. Our intent is to encourage high
performance accurate subdiv drawing by giving away the “good stuff”.</p>
<p>Feel free to use it and let us know what you think.</p>
<p>For more details about OpenSubdiv, see <a
href="http://graphics.pixar.com">Pixar Graphics Technologies</a>.</p>
<table>
<colgroup>
<col style="width: 21%" />
<col style="width: 26%" />
<col style="width: 26%" />
<col style="width: 26%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">Linux</th>
<th style="text-align: center;">Windows</th>
<th style="text-align: center;">macOS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">dev</td>
<td style="text-align: center;"><a
href="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_build/latest?definitionId=2&amp;branchName=dev"><img
src="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_apis/build/status/PixarAnimationStudios.OpenSubdiv?branchName=dev&amp;jobName=Linux"
alt="Build Status" /></a></td>
<td style="text-align: center;"><a
href="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_build/latest?definitionId=2&amp;branchName=dev"><img
src="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_apis/build/status/PixarAnimationStudios.OpenSubdiv?branchName=dev&amp;jobName=Windows"
alt="Build Status" /></a></td>
<td style="text-align: center;"><a
href="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_build/latest?definitionId=2&amp;branchName=dev"><img
src="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_apis/build/status/PixarAnimationStudios.OpenSubdiv?branchName=dev&amp;jobName=macOS"
alt="Build Status" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;">release</td>
<td style="text-align: center;"><a
href="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_build/latest?definitionId=2&amp;branchName=release"><img
src="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_apis/build/status/PixarAnimationStudios.OpenSubdiv?branchName=release&amp;jobName=Linux"
alt="Build Status" /></a></td>
<td style="text-align: center;"><a
href="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_build/latest?definitionId=2&amp;branchName=release"><img
src="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_apis/build/status/PixarAnimationStudios.OpenSubdiv?branchName=release&amp;jobName=Windows"
alt="Build Status" /></a></td>
<td style="text-align: center;"><a
href="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_build/latest?definitionId=2&amp;branchName=release"><img
src="https://dev.azure.com/PixarAnimationStudios/OpenSubdiv/_apis/build/status/PixarAnimationStudios.OpenSubdiv?branchName=release&amp;jobName=macOS"
alt="Build Status" /></a></td>
</tr>
</tbody>
</table>
<h2 id="documents">Documents</h2>
<ul>
<li><a href="http://graphics.pixar.com/opensubdiv/docs/intro.html">User
Documents</a></li>
<li><a
href="http://graphics.pixar.com/opensubdiv/docs/doxy_html/index.html">Doxygen
API Documents</a></li>
<li><a
href="http://graphics.pixar.com/opensubdiv/docs/release_notes.html">Release
Notes</a></li>
</ul>
<h2 id="forum">Forum</h2>
<ul>
<li><a
href="https://groups.google.com/forum/embed/?place=forum/opensubdiv">OpenSubdiv
Google Groups</a></li>
</ul>
<h2 id="prerequisite">Prerequisite</h2>
<p>For complete information, please refer OpenSubdiv documents: <a
href="http://graphics.pixar.com/opensubdiv/docs/cmake_build.html">Building
with CMake</a></p>
<ul>
<li>General requirements:</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Lib</th>
<th>Min Version</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="http://www.cmake.org">CMake</a></td>
<td>3.12</td>
<td><em>Required</em></td>
</tr>
</tbody>
</table>
<ul>
<li>Osd optional requirements:</li>
</ul>
<table>
<colgroup>
<col style="width: 62%" />
<col style="width: 10%" />
<col style="width: 26%" />
</colgroup>
<thead>
<tr class="header">
<th>Lib</th>
<th>Min Version</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="http://developer.nvidia.com/cuda-toolkit">CUDA</a></td>
<td>4.0</td>
<td>cuda backend</td>
</tr>
<tr class="even">
<td><a href="https://www.threadingbuildingblocks.org">TBB</a></td>
<td>2018</td>
<td>TBB backend</td>
</tr>
<tr class="odd">
<td><a href="http://www.khronos.org/opencl">OpenCL</a></td>
<td>1.1</td>
<td>CL backend</td>
</tr>
<tr class="even">
<td><a
href="http://www.microsoft.com/download/details.aspx?id=6812">DX11
SDK</a></td>
<td></td>
<td>DX backend</td>
</tr>
<tr class="odd">
<td><a href="https://developer.apple.com/metal/">Metal</a></td>
<td>1.2</td>
<td>Metal backend</td>
</tr>
</tbody>
</table>
<ul>
<li>Requirements for building optional examples:</li>
</ul>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 13%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="header">
<th>Lib</th>
<th>Min Version</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="http://www.glfw.org">GLFW</a></td>
<td>3.0.0</td>
<td>GL examples</td>
</tr>
<tr class="even">
<td><a href="https://github.com/wdas/ptex">Ptex</a></td>
<td>2.0</td>
<td>ptex viewers</td>
</tr>
<tr class="odd">
<td><a href="http://www.zlib.net">Zlib</a></td>
<td></td>
<td>(required for Ptex under windows)</td>
</tr>
</tbody>
</table>
<ul>
<li>Requirements for building documentation:</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Lib</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="http://docutils.sourceforge.net">Docutils</a></td>
</tr>
<tr class="even">
<td><a href="http://www.doxygen.org">Doxygen</a></td>
</tr>
<tr class="odd">
<td><a href="https://graphviz.gitlab.io/">Graphviz</a></td>
</tr>
</tbody>
</table>
<h2
id="build-example-to-run-glviewer-and-other-example-programs-with-minimal-dependency">Build
example to run glViewer and other example programs with minimal
dependency</h2>
<h3 id="all-platforms">All platforms:</h3>
<ul>
<li>Install cmake and GLFW</li>
</ul>
<p>make sure GLFW install directories are configured as follows:</p>
<pre><code>   ${GLFW_LOCATION}/include/GLFW/glfw3.h
   ${GLFW_LOCATION}/lib/libglfw3.a (linux)
   ${GLFW_LOCATION}/lib/glfw3.lib (windows)</code></pre>
<ul>
<li>Clone OpenSubdiv repository, and create a build directory.</li>
</ul>
<pre><code>   git clone https://github.com/PixarAnimationStudios/OpenSubdiv
   mkdir build
   cd build</code></pre>
<h3 id="windows-visual-studio">Windows (Visual Studio)</h3>
<pre><code>cmake ^
    -G &quot;Visual Studio 15 2017 Win64&quot; ^
    -D NO_PTEX=1 -D NO_DOC=1 ^
    -D NO_OMP=1 -D NO_TBB=1 -D NO_CUDA=1 -D NO_OPENCL=1 -D NO_CLEW=1 ^
    -D &quot;GLFW_LOCATION=*YOUR GLFW INSTALL LOCATION*&quot; ^
    ..

cmake --build . --config Release --target install</code></pre>
<h3 id="linux">Linux</h3>
<pre><code>cmake -D NO_PTEX=1 -D NO_DOC=1 \
      -D NO_OMP=1 -D NO_TBB=1 -D NO_CUDA=1 -D NO_OPENCL=1 -D NO_CLEW=1 \
      -D GLFW_LOCATION=&quot;*YOUR GLFW INSTALL LOCATION*&quot; \
      ..

cmake --build . --config Release --target install</code></pre>
<h3 id="macos">macOS</h3>
<pre><code>cmake -G Xcode -D NO_PTEX=1 -D NO_DOC=1 \
      -D NO_OMP=1 -D NO_TBB=1 -D NO_CUDA=1 -D NO_OPENCL=1 -D NO_CLEW=1 \
      -D GLFW_LOCATION=&quot;*YOUR GLFW INSTALL LOCATION*&quot; \
      ..

cmake --build . --config Release --target install</code></pre>
<h3 id="ios">iOS</h3>
<pre><code>SDKROOT=$(xcrun --sdk iphoneos --show-sdk-path) cmake -D NO_PTEX=1 -D NO_DOC=1 \
      -D NO_OMP=1 -D NO_TBB=1 -D NO_CUDA=1 -D NO_OPENCL=1 -D NO_CLEW=1 \
      -D CMAKE_TOOLCHAIN_FILE=../cmake/iOSToolchain.cmake -G Xcode \
      ..</code></pre>
<ul>
<li>This will produce an “OpenSubdiv.xcodeproj” that can be open and the
targets ‘mtlViewer’ and ‘mtlPtexViewer’ (if NO_PTEX is ommitted and
libPtex.a is installed in the iOS SDK) that can be run</li>
</ul>
<h3 id="useful-cmake-options-and-environment-variables">Useful cmake
options and environment variables</h3>
<pre><code>-DCMAKE_BUILD_TYPE=[Debug|Release]

-DCMAKE_INSTALL_PREFIX=[base path to install OpenSubdiv]
-DCMAKE_LIBDIR_BASE=[library directory basename (default: lib)]
-DCMAKE_TOOLCHAIN_FILE=[toolchain file for crossplatform builds]

-DCUDA_TOOLKIT_ROOT_DIR=[path to CUDA Toolkit]
-DOSD_CUDA_NVCC_FLAGS=[CUDA options, e.g. --gpu-architecture]

-DPTEX_LOCATION=[path to Ptex]
-DGLFW_LOCATION=[path to GLFW]
-DSTRINGIFY_LOCATION=[path to stringify utility]

-DNO_LIB=1        // disable the opensubdiv libs build (caveat emptor)
-DNO_EXAMPLES=1   // disable examples build
-DNO_TUTORIALS=1  // disable tutorials build
-DNO_REGRESSION=1 // disable regression tests build
-DNO_PTEX=1       // disable PTex support
-DNO_DOC=1        // disable documentation build
-DNO_OMP=1        // disable OpenMP
-DNO_TBB=1        // disable TBB
-DNO_CUDA=1       // disable CUDA
-DNO_OPENCL=1     // disable OpenCL
-DNO_OPENGL=1     // disable OpenGL
-DNO_CLEW=1       // disable CLEW wrapper library
-DNO_METAL=1      // disable Metal</code></pre>
