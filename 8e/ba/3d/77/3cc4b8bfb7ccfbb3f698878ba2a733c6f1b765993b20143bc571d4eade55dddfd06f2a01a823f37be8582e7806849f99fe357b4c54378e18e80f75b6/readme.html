<p><a href="https://gitlab.com/libidn/libidn2/pipelines"><img src="https://gitlab.com/libidn/libidn2/badges/master/build.svg" alt="build status" /></a> <a href="https://libidn.gitlab.io/libidn2/coverage"><img src="https://gitlab.com/libidn/libidn2/badges/master/coverage.svg" alt="coverage status" /></a> <a href="https://libidn.gitlab.io/libidn2/fuzz-coverage"><img src="https://libidn.gitlab.io/libidn2/fuzz-coverage/badge.svg" alt="fuzz coverage status" /></a> <a href="https://scan.coverity.com/projects/libidn2"><img src="https://scan.coverity.com/projects/12080/badge.svg" alt="Coverity Scan Build Status" /></a></p>
<h1 id="libidn2-readme----introduction-information">Libidn2 README -- Introduction information</h1>
<p>Libidn2 is a free software implementation of IDNA2008, Punycode and TR46. Its purpose is to encode and decode internationalized domain names.</p>
<ul>
<li><a href="https://tools.ietf.org/html/rfc5890">RFC 5890</a></li>
<li><a href="https://tools.ietf.org/html/rfc5891">RFC 5891</a></li>
<li><a href="https://tools.ietf.org/html/rfc5892">RFC 5892</a></li>
<li><a href="https://tools.ietf.org/html/rfc5893">RFC 5893</a></li>
<li><a href="https://www.unicode.org/reports/tr46/">TR46</a></li>
</ul>
<p>The library contains functionality to convert internationalized domain names to and from ASCII Compatible Encoding (ACE), following the IDNA2008 and TR46 standards.</p>
<p>The API consists of two main functions, <code>idn2_to_ascii_8z</code> for converting data from UTF-8 to ASCII Compatible Encoding (ACE), and <code>idn2_to_unicode_8z8z</code> to convert ACE names into UTF-8 format. There are several variations of these main functions, which accept UTF-32, or input in the local system encoding. All functions assume zero-terminated strings.</p>
<p>This library is backwards (API) compatible with the <a href="https://www.gnu.org/software/libidn/">libidn library</a>. Replacing the <code>idna.h</code> header with <code>idn2.h</code> into a program is sufficient to switch the application from IDNA2003 to IDNA2008 as supported by this library.</p>
<p>Libidn2 is believed to be a complete IDNA2008 and TR46 implementation, it contains an extensive test-suite, and is included in the continuous fuzzing project <a href="https://bugs.chromium.org/p/oss-fuzz/issues/list?q=libidn2">OSS-Fuzz</a>.</p>
<p>You can check the current test code coverage <a href="https://libidn.gitlab.io/libidn2/coverage/index.html">here</a> and the current fuzzing code coverage <a href="https://libidn.gitlab.io/libidn2/fuzz-coverage/index.html">here</a>.</p>
<h1 id="license">License</h1>
<p>The installed C library libidn2 is dual-licensed under LGPLv3+|GPLv2+, while the rest of the package is GPLv3+. See the file <a href="COPYING" class="uri">COPYING</a> for detailed information.</p>
<h1 id="online-docs">Online docs</h1>
<p><a href="https://libidn.gitlab.io/libidn2/reference/api-index-full.html">API reference</a></p>
<p><a href="https://libidn.gitlab.io/libidn2/manual/libidn2.html">Manual</a></p>
<h1 id="obtaining-the-source">Obtaining the source</h1>
<p>Software releases of libidn2 can be downloaded from https://ftp.gnu.org/gnu/libidn/ and ftp://ftp.gnu.org/gnu/libidn/</p>
<p>Development of libidn2 is organized <a href="https://gitlab.com/libidn/libidn2">through GitLab website</a>, and there is <a href="https://gitlab.com/libidn/libidn2/issues">an issue tracker for reporting bugs</a>.</p>
<h1 id="dependencies">Dependencies</h1>
<p>To build Libidn2 you will need a POSIX shell to run ./configure and the Unix make tool.</p>
<ul>
<li><a href="https://www.gnu.org/software/bash/">Bash</a></li>
<li><a href="https://www.gnu.org/software/make/">Make</a></li>
</ul>
<p>The shared libidn2 library uses GNU libunistring for Unicode processing and GNU libiconv for character set conversion. You should install them before building and installing libidn2. See the following links for more information on these packages:</p>
<ul>
<li><a href="https://www.gnu.org/software/libunistring/">Unistring</a></li>
<li><a href="https://www.gnu.org/software/libiconv/">iconv</a></li>
</ul>
<p>Note that the iconv dependency is optional -- it is required for the functions involving locale to UTF conversions -- but is recommended.</p>
<p>If you wish to build the project from version controlled sources, rebuild all generated files (e.g., run autoreconf), or modify some source code files, you will need to have additional tools installed. None of the following tools are necessary if you build Libidn2 in the usual way (i.e., ./configure &amp;&amp; make).</p>
<ul>
<li><a href="https://www.gnu.org/software/automake/">Automake</a></li>
<li><a href="https://www.gnu.org/software/autoconf/">Autoconf</a></li>
<li><a href="https://www.gnu.org/software/libtool/">Libtool</a></li>
<li><a href="https://www.gnu.org/software/gettext/">Gettext</a></li>
<li><a href="https://www.gnu.org/software/texinfo/">Texinfo</a></li>
<li><a href="https://www.gnu.org/software/gperf/">Gperf</a></li>
<li><a href="https://www.gnu.org/software/gengetopt/">Gengetopt</a></li>
<li><a href="https://www.gnu.org/software/tar/">Tar</a></li>
<li><a href="https://www.gnu.org/software/gzip/">Gzip</a></li>
<li><a href="https://www.tug.org/texlive/">Texlive &amp; epsf</a> (for PDF manual)</li>
<li><a href="https://www.gtk.org/gtk-doc/">GTK-DOC</a> (for API manual)</li>
<li><a href="https://git-scm.com/">Git</a></li>
<li><a href="https://www.cpan.org/">Perl</a></li>
<li><a href="http://valgrind.org/">Valgrind</a> (optional) (No HTTPS at all)</li>
<li><a href="https://github.com/lvc/abi-compliance-checker">abi-compliance-checker</a></li>
<li><a href="https://rtomayko.github.io/ronn/">ronn</a></li>
</ul>
<p>The software is typically distributed with your operating system, and the instructions for installing them differ. Here are some hints.</p>
<p>gNewSense/Debian/Ubuntu:</p>
<pre><code>apt-get install git autoconf automake libtool texinfo gperf git2cl
apt-get install libunistring-dev gtk-doc-tools valgrind gengetopt
apt-get install abi-compliance-checker ruby-ronn</code></pre>
<h1 id="contributing">Contributing</h1>
<p>See <a href="CONTRIBUTING.md">the contributing document</a>.</p>
<h1 id="estimating-code-coverage">Estimating code coverage</h1>
<p>Dependencies: * <a href="https://github.com/linux-test-project/lcov">lcov</a> (for code coverage)</p>
<p>To test the code coverage of the test suite use the following:</p>
<pre><code>$ ./configure --enable-code-coverage
$ make &amp;&amp; make check &amp;&amp; make code-coverage-capture</code></pre>
<p>The current coverage report can be found <a href="https://libidn.gitlab.io/libidn2/coverage/">here</a>.</p>
<h1 id="fuzzing">Fuzzing</h1>
<p>Libidn2 is being continuously fuzzed by <a href="https://github.com/google/oss-fuzz">OSS-Fuzz</a>.</p>
<p>Of course you can do local fuzzing on your own, see <code>fuzz/README.md</code> for instructions.</p>
<p>The code coverage of our fuzzers can be found <a href="https://libidn.gitlab.io/libidn2/fuzz-coverage/">here</a>.</p>
<h1 id="cross-compiling">Cross-compiling</h1>
<p>It is possible to cross-compile libidn2. It is expected your cross compiler toolchain to have a specific prefix to the target host. For example compiling for Windows with mingw64 (with prefix <code>i686-w64-mingw32</code>) can be done the following way:</p>
<pre><code>./configure --host=i686-w64-mingw32 &amp;&amp; make</code></pre>
<p>After <code>./bootstrap</code>ing you find the <code>INSTALL</code> file in the main project directory including generic instructions about cross-compilation.</p>
