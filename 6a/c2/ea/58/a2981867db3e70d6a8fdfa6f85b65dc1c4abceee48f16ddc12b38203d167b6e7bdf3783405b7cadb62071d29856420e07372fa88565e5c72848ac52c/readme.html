<p><img
src="https://img.shields.io/github/license/mohabouje/WinToast?style=flat-square"
alt="license" /> <img
src="https://img.shields.io/github/contributors/mohabouje/WinToast?style=flat-square"
alt="GitHub contributors" /> <img
src="https://img.shields.io/github/v/release/mohabouje/WinToast?style=flat-square"
alt="releases" /> <a href=""><img
src="https://img.shields.io/github/stars/mohabouje/WinToast?style=flat-square"
alt="GitHub stars" /></a> <a href=""><img
src="https://img.shields.io/github/forks/mohabouje/WinToast?style=flat-square"
alt="GitHub forks" /></a> <a href=""><img
src="https://img.shields.io/github/watchers/mohabouje/WinToast?style=flat-square"
alt="GitHub watchers" /></a> <img
src="https://img.shields.io/github/issues/mohabouje/WinToast?style=flat-square"
alt="issues" /></p>
<h1 id="wintoast">WinToast</h1>
<p>WinToast is a lightly library written in C++ which brings a complete
integration of the modern <strong>toast notifications</strong> of
<strong>Windows 8</strong>, <strong>Windows 10</strong> and
<strong>Windows 11</strong>.</p>
<p>Toast notifications allows your app to inform the users about
relevant information and timely events that they should see and take
action upon inside your app, such as a new instant message, a new friend
request, breaking news, or a calendar event.</p>
<ul>
<li><a href="#wintoast">WinToast</a></li>
<li><a href="#toast-templates">Toast Templates</a></li>
<li><a href="#event-handler">Event Handler</a></li>
<li><a href="#notification-content">Notification Content</a></li>
<li><a href="#error-handling">Error Handling</a></li>
<li><a href="#example-of-usage">Example of Usage</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#toast-configuration-on-windows-10">Toast configuration on
Windows 10</a></li>
<li><a href="#projects-using-wintoast">Projects using WinToast</a></li>
</ul>
<h2 id="toast-templates">Toast Templates</h2>
<p>WinToast integrates all standard templates available in the <a
href="https://msdn.microsoft.com/en-us/library/windows/apps/br208660.aspx">ToastTemplateType
enumeration</a>.</p>
<table>
<colgroup>
<col style="width: 44%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Template</th>
<th style="text-align: right;">Description</th>
<th style="text-align: center;">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>ImageAndText01</code></td>
<td style="text-align: right;">A large image and a single string wrapped
across three lines of text.</td>
<td style="text-align: center;"><img src="assets/images/Toast_6.png"
alt="enter image description here" /></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>ImageAndText02</code></td>
<td style="text-align: right;">A large image, one string of bold text on
the first line, one string of regular text wrapped across the second and
third lines.</td>
<td style="text-align: center;"><img src="assets/images/Toast_7.png"
alt="12" /></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>ImageAndText03</code></td>
<td style="text-align: right;">A large image, one string of bold text
wrapped across the first two lines, one string of regular text on the
third line.</td>
<td style="text-align: center;"><img src="assets/images/Toast_8.png"
alt="enter image description here" /></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>ImageAndText04</code></td>
<td style="text-align: right;">A large image, one string of bold text on
the first line, one string of regular text on the second line, one
string of regular text on the third line.</td>
<td style="text-align: center;"><img
src="assets/images/ToastImageAndText04.png"
alt="enter image description here" /></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Text01</code></td>
<td style="text-align: right;">Single string wrapped across three lines
of text.</td>
<td style="text-align: center;"><img src="assets/images/Toast_1.png"
alt="enter image description here" /></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Text02</code></td>
<td style="text-align: right;">One string of bold text on the first
line, one string of regular text wrapped across the second and third
lines.</td>
<td style="text-align: center;"><img src="assets/images/Toast_2.png"
alt="enter image description here" /></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Text03</code></td>
<td style="text-align: right;">One string of bold text wrapped across
the first two lines, one string of regular text on the third line.</td>
<td style="text-align: center;"><img src="assets/images/Toast_4.png"
alt="enter image description here" /></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Text04</code></td>
<td style="text-align: right;">One string of bold text on the first
line, one string of regular text on the second line, one string of
regular text on the third line.</td>
<td style="text-align: center;"><img src="assets/images/Toast_5.png"
alt="enter image description here" /></td>
</tr>
</tbody>
</table>
<p>Example of a <code>ImageAndText02</code> template:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>WinToastTemplate templ <span class="op">=</span> WinToastTemplate<span class="op">(</span>WinToastTemplate<span class="op">::</span>ImageAndText02<span class="op">);</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;title&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>FirstLine<span class="op">);</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;subtitle&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>SecondLine<span class="op">);</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setImagePath<span class="op">(</span><span class="st">L&quot;C:/example.png&quot;</span><span class="op">);</span> </span></code></pre></div>
<p><strong>Note:</strong> The user can use the default system sound or
specify a sound to play when a toast notification is displayed. Same
behavior for the toast notification image, by default Windows try to use
the app icon.*</p>
<h2 id="event-handler">Event Handler</h2>
<p>WinToast handle different events:</p>
<ul>
<li><strong>Activated</strong>: Occurs when user activates a toast
notification through a click or touch. Apps that are running subscribe
to this event</li>
<li><strong>Dismissed</strong>: Occurs when a toast notification leaves
the screen, either by expiring or being explicitly dismissed by the
user.
<ul>
<li>Application Hidden: The application hid the toast using
ToastNotifier.hide.</li>
<li>User Canceled: The user dismissed the toast.</li>
<li>Timed Out: The toast has expired</li>
</ul></li>
<li><strong>Failed</strong>: Occurs when an error is caused when Windows
attempts to raise a toast notification.</li>
</ul>
<p>Create your custom handler to interact with the user actions by
subclassing the interface <code>IWinToastHandler</code>:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> WinToastHandlerExample <span class="op">:</span> <span class="kw">public</span> IWinToastHandler <span class="op">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a> <span class="kw">public</span><span class="op">:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    WinToastHandlerExample<span class="op">();</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Public interfaces</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> toastActivated<span class="op">()</span> <span class="at">const</span> <span class="kw">override</span><span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> toastActivated<span class="op">(</span><span class="dt">int</span> actionIndex<span class="op">)</span> <span class="at">const</span> <span class="kw">override</span><span class="op">;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> toastDismissed<span class="op">(</span>WinToastDismissalReason state<span class="op">)</span> <span class="at">const</span> <span class="kw">override</span><span class="op">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> toastFailed<span class="op">()</span> <span class="at">const</span> <span class="kw">override</span><span class="op">;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> <span class="op">};</span></span></code></pre></div>
<h2 id="notification-content">Notification Content</h2>
<p>The full documentation of the notification content <a
href="https://learn.microsoft.com/en-us/windows/apps/design/shell/tiles-and-notifications/adaptive-interactive-toasts?tabs=appsdk">here</a>.</p>
<h3 id="scenario">Scenario</h3>
<p>To create important notifications, alarms, reminders, and incoming
call notifications, you simply use a normal app notification with a
Scenario value assigned to it. The scenario adjusts a few behaviors to
create a consistent and unified user experience. There are four possible
Scenario values:</p>
<ul>
<li>Reminder</li>
<li>Alarm</li>
<li>IncomingCall</li>
<li>Urgent</li>
</ul>
<h3 id="expiration-time">Expiration Time</h3>
<p>Set the time after which a toast notification is no longer considered
current or valid and should not be displayed. Windows attempts to raise
toast notifications immediately after you call Show, so this property is
rarely used.</p>
<blockquote>
<p>For Windows 8.x app, this property also causes the toast notification
to be removed from the Action Center once the specified data and time is
reached.</p>
</blockquote>
<p><strong>Note:</strong> Default Windows behavior is to hide
notification automatically after time set in Windows Ease of Access
Settings. If you need to preserve notification in Windows Action Center
for longer period of time, you have to call
<code>WinToastTemplate::setExpiration</code> method.</p>
<h3 id="hint-crop">Hint Crop</h3>
<p>Microsoft style guidelines recommend representing profile pictures
with a circular image to provide a consistent representation of people
across apps and the shell. Set the HintCrop property to Circle to render
the image with a circular crop.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>WinToastTemplate templ <span class="op">=</span> WinToastTemplate<span class="op">(</span>WinToastTemplate<span class="op">::</span>ImageAndText02<span class="op">);</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;Matt sent you a friend request&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>FirstLine<span class="op">);</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;Hey, wanna dress up as wizards and ride around on hoverboards?&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>SecondLine<span class="op">);</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setImagePath<span class="op">(</span><span class="st">L&quot;C:/example.png&quot;</span><span class="op">);</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setHintCrop<span class="op">(</span>WinToastTemplate<span class="op">::</span>Circle<span class="op">);</span></span></code></pre></div>
<figure>
<img src="assets/images/hint-crop.png" alt="“Toast with hero image”" />
<figcaption aria-hidden="true">“Toast with hero image”</figcaption>
</figure>
<h3 id="hero-image">Hero Image</h3>
<p>The hero image is a large image that appears at the top of a toast
notification. The hero image is optional and can be used to provide
additional context to the user.</p>
<p><strong>Note:</strong> The hero image is not supported on Windows 8.1
and Windows Phone 8.1.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>WinToastTemplate templ <span class="op">=</span> WinToastTemplate<span class="op">(</span>WinToastTemplate<span class="op">::</span>ImageAndText02<span class="op">);</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;Mary Anne&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>FirstLine<span class="op">);</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;Check out where we camped last night!&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>SecondLine<span class="op">);</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setHeroImagePath<span class="op">(</span><span class="st">L&quot;C:/example.png&quot;</span><span class="op">);</span></span></code></pre></div>
<figure>
<img src="assets/images/hero-image.png" alt="“Toast with hero image”" />
<figcaption aria-hidden="true">“Toast with hero image”</figcaption>
</figure>
<p>The hero image is specified by calling the
<code>WinToastTemplate::setHeroImagePath</code> method. The image path
can be a local file path or a URI.</p>
<h3 id="inline-image">Inline Image</h3>
<p>The second parameter of the method
<code>WinToastTemplate::setHeroImagePath</code> is a boolean value that
specifies whether the image should be inlined in the toast
notification.</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>WinToastTemplate templ <span class="op">=</span> WinToastTemplate<span class="op">(</span>WinToastTemplate<span class="op">::</span>ImageAndText01<span class="op">);</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;Feature image of the day&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>FirstLine<span class="op">);</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setHeroImagePath<span class="op">(</span><span class="st">L&quot;C:/example.png&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span></code></pre></div>
<figure>
<img src="assets/images/inline-image.png"
alt="“Toast with inlined hero image”" />
<figcaption aria-hidden="true">“Toast with inlined hero
image”</figcaption>
</figure>
<h3 id="actions">Actions</h3>
<p>You can add your own actions, this fact allow you to interact with
user in a different way:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>WinToastTemplate templ <span class="op">=</span> WinToastTemplate<span class="op">(</span>WinToastTemplate<span class="op">::</span>ImageAndText01<span class="op">);</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;New product in stock&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>FirstLine<span class="op">);</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="bu">std::</span>wstring<span class="op">&gt;</span> actions<span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>actions<span class="op">.</span>push_back<span class="op">(</span><span class="st">L&quot;See more details&quot;</span><span class="op">);</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>actions<span class="op">.</span>push_back<span class="op">(</span><span class="st">L&quot;Remind me later&quot;</span><span class="op">);</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="kw">auto</span> <span class="at">const</span> <span class="op">&amp;</span>action <span class="op">:</span> actions<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    templ<span class="op">.</span>addAction<span class="op">(</span>action<span class="op">);</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>WinToast<span class="op">::</span>instance<span class="op">()-&gt;</span>showToast<span class="op">(</span>templ<span class="op">,</span> handler<span class="op">)</span> </span></code></pre></div>
<figure>
<img src="assets/images/image-actions.png"
alt="“Toast with some actions”" />
<figcaption aria-hidden="true">“Toast with some actions”</figcaption>
</figure>
<h3 id="attribution-text">Attribution text</h3>
<p>New in Anniversary Update: If you need to reference the source of
your content, you can use attribution text. This text is always
displayed below any text elements, but above inline images. The text
uses a slightly smaller size than standard text elements to help to
distinguish from regular text elements.</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>WinToastTemplate templ <span class="op">=</span> WinToastTemplate<span class="op">(</span>WinToastTemplate<span class="op">::</span>Text02<span class="op">);</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;Mary Anne&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>FirstLine<span class="op">);</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;Check out where we camped last night!&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>SecondLine<span class="op">);</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setHeroImagePath<span class="op">(</span><span class="st">L&quot;C:/example.png&quot;</span><span class="op">);</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setAttributionText<span class="op">(</span><span class="st">L&quot;Via SMS&quot;</span><span class="op">);</span></span></code></pre></div>
<figure>
<img src="assets/images/attribution-text.png"
alt="“Toast with some actions”" />
<figcaption aria-hidden="true">“Toast with some actions”</figcaption>
</figure>
<h3 id="duration">Duration</h3>
<p>The amount of time the toast should display. This attribute can have
one of the following values: - <em>System</em>: default system
configuration. - <em>Short</em>: default system short time
configuration. - <em>Long</em>: default system long time
configuration.</p>
<h3 id="audio-properties">Audio Properties</h3>
<p>You can modify the different behaviors of the sound: -
<em>Default</em>: plays the audio file just one time. - <em>Silent</em>:
turn off the sound. - <em>Loop</em>: plays the given sound in a loop
during the toast existence.</p>
<blockquote>
<p>WinToast allows the modification of the default audio file. Add the
given file in to your projects resources (<em>must be ms-appx:// or
ms-appdata:// path</em>) and define it by calling:
<code>WinToastTemplate::setAudioPath</code></p>
</blockquote>
<p><strong><em>By default, WinToast checks if your systems support the
features, ignoring the not supported ones.</em></strong></p>
<h2 id="error-handling">Error Handling</h2>
<p>There are several reasons WinToast can fail that’s why the library
notifies caller about fail reason. Those are the code for each
failure:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>WinToastError</th>
<th>Error Code</th>
<th>Error message</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>NoError</code></td>
<td>0x00</td>
<td>No error. The process was executed correctly</td>
</tr>
<tr class="even">
<td><code>NotInitialized</code></td>
<td>0x01</td>
<td>The library has not been initialized</td>
</tr>
<tr class="odd">
<td><code>SystemNotSupported</code></td>
<td>0x02</td>
<td>The OS does not support WinToast</td>
</tr>
<tr class="even">
<td><code>ShellLinkNotCreated</code></td>
<td>0x03</td>
<td>The library was not able to create a Shell Link for the app</td>
</tr>
<tr class="odd">
<td><code>InvalidAppUserModelID</code></td>
<td>0x04</td>
<td>The AUMI is not a valid one</td>
</tr>
<tr class="even">
<td><code>InvalidParameters</code></td>
<td>0x05</td>
<td>The parameters used to configure the library are not valid normally
because an invalid AUMI or App Name</td>
</tr>
<tr class="odd">
<td><code>NotDisplayed</code></td>
<td>0x06</td>
<td>The toast was created correctly but WinToast was not able to display
the toast</td>
</tr>
<tr class="even">
<td><code>UnknownError</code></td>
<td>0x07</td>
<td>Unknown error</td>
</tr>
</tbody>
</table>
<p>A common example of usage is to check while initializing the library
or showing a toast notification the possible failure code:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>WinToast<span class="op">::</span>WinToastError error<span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="kw">auto</span> succedded <span class="op">=</span> WinToast<span class="op">::</span>instance<span class="op">()-&gt;</span>initialize<span class="op">(&amp;</span>error<span class="op">);</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(!</span>succedded<span class="op">)</span> <span class="op">{</span>  </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>wcout <span class="op">&lt;&lt;</span> <span class="st">L&quot;Error, could not initialize the lib. Error number: &quot;</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;&lt;</span> error <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="op">...</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">// Configure the template</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="op">...</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="kw">auto</span> toast_id <span class="op">=</span> WinToast<span class="op">::</span>instance<span class="op">()-&gt;</span>showToast<span class="op">(</span>templ<span class="op">,</span> handler<span class="op">,</span> <span class="op">&amp;</span>error<span class="op">);</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>toast_id <span class="op">&lt;</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>wcout <span class="op">&lt;&lt;</span> <span class="st">L&quot;Error: Could not launch your toast notification. Error: &quot;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>     <span class="op">&lt;&lt;</span> error <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="example-of-usage">Example of Usage</h2>
<p><em>For an easy usage, you can just use the available singleton
instance.</em></p>
<p>First step, Import the header file wintoastlib.h to your project. You
should check if your Windows Version is supported by the library.</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> WinToastLib<span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="op">....</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(!</span>WinToast<span class="op">::</span>isCompatible<span class="op">())</span> <span class="op">{</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>wcout <span class="op">&lt;&lt;</span> <span class="st">L&quot;Error, your system in not supported!&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Configure your <a
href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd378459%28v=vs.85%29.aspx">App
User Model Id</a>, this can be done by using the existing helper:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>WinToast<span class="op">::</span>instance<span class="op">()-&gt;</span>setAppName<span class="op">(</span><span class="st">L&quot;WinToastExample&quot;</span><span class="op">);</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="kw">auto</span> aumi <span class="op">=</span> WinToast<span class="op">::</span>configureAUMI<span class="op">(</span><span class="st">L&quot;mohabouje&quot;</span><span class="op">,</span> <span class="st">L&quot;wintoast&quot;</span><span class="op">,</span> <span class="st">L&quot;wintoastexample&quot;</span><span class="op">,</span> <span class="st">L&quot;20161006&quot;</span><span class="op">);</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>WinToast<span class="op">::</span>instance<span class="op">()-&gt;</span>setAppUserModelId<span class="op">(</span>aumi<span class="op">);</span>  </span></code></pre></div>
<p>Initialize all the dependencies and check if WinToast has been
initialized successfully in your system:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(!</span>WinToast<span class="op">::</span>instance<span class="op">()-&gt;</span>initialize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>wcout <span class="op">&lt;&lt;</span> <span class="st">L&quot;Error, could not initialize the lib!&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Implement your own action handler by subclassing the interface
<code>IWinToastHandler</code> and custom your template:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>WinToastHandlerExample<span class="op">*</span> handler <span class="op">=</span> <span class="kw">new</span> WinToastHandlerExample<span class="op">;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>WinToastTemplate templ <span class="op">=</span> WinToastTemplate<span class="op">(</span>WinToastTemplate<span class="op">::</span>ImageAndText02<span class="op">);</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setImagePath<span class="op">(</span><span class="st">L&quot;C:/example.png&quot;</span><span class="op">);</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;title&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>FirstLine<span class="op">);</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>templ<span class="op">.</span>setTextField<span class="op">(</span><span class="st">L&quot;subtitle&quot;</span><span class="op">,</span> WinToastTemplate<span class="op">::</span>SecondLine<span class="op">);</span></span></code></pre></div>
<p>Finally show the results:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="kw">auto</span> toast_id <span class="op">=</span> WinToast<span class="op">::</span>instance<span class="op">()-&gt;</span>showToast<span class="op">(</span>templ<span class="op">,</span> handler<span class="op">,</span> <span class="op">&amp;</span>error<span class="op">);</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>toast_id <span class="op">&lt;</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>wcout <span class="op">&lt;&lt;</span> <span class="st">L&quot;Error: Could not launch your toast notification!&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Shao Voon Wong wrote an excellent article about the usage of
WinToast. You can find it <a
href="https://www.codeproject.com/Articles/5286393/Cplusplus-Windows-Toast-Notification">here</a>.</p>
<h2 id="installation">Installation</h2>
<p>If you are using a package manager, there is a port for <a
href="https://github.com/microsoft/vcpkg/">vcpkg</a>. Otherwise, the
easiest way is to copy the source files as external dependencies.</p>
<h2 id="toast-configuration-on-windows-10">Toast configuration on
Windows 10</h2>
<p>Windows allows the configuration of the default behavior of a toast
notification. This can be done in the <em>Ease of Access</em>
configuration by modifying the <em>Other options</em> tab.</p>
<p>The system configuration helps you to define how long you want
notifications to appear for (5 seconds to 5 minutes) as turning on
visual notifications for sound.</p>
<figure>
<img
src="https://camo.githubusercontent.com/56c8edd1a7a4a43be07ba211d9d828478fdbad39/68747470733a2f2f7777772e686f77746f6765656b2e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031362f30332f656173655f6f665f6163636573732e706e67"
alt="Ease of Access configuration" />
<figcaption aria-hidden="true">Ease of Access configuration</figcaption>
</figure>
<h2 id="projects-using-wintoast">Projects using WinToast</h2>
<ul>
<li><a href="https://github.com/git-for-windows/git">Git for
Windows</a>: A fork of Git containing Windows-specific patches.</li>
<li><a
href="https://hg.mozilla.org/mozilla-central/file/tip/third_party/WinToast/wintoastlib.cpp">Firefox</a>:
A free and open source web browser.</li>
<li><a
href="https://gitlab.torproject.org/tpo/applications/tor-browser/-/blob/tor-browser-102.2.0esr-12.0-2/third_party/WinToast/wintoastlib.h">Tor
Browser</a>: privacy-focused web browser that enables anonymous internet
browsing.</li>
<li><a href="https://github.com/WaterfoxCo/Waterfox">Waterfox</a>: Fast
and Private Web Browser</li>
<li><a href="https://github.com/qgis/QGIS">QGIS</a>: QGIS is a free,
open source, cross platform (lin/win/mac) geographical information
system (GIS)</li>
<li><a href="https://github.com/symless/synergy-core">Synergy Core</a>:
Share one mouse and keyboard between multiple computers</li>
<li><a href="https://github.com/Siv3D/OpenSiv3D">Siv3D</a>: A C++20
cross-platform library for creative coding</li>
<li><a href="https://github.com/meganz/MEGAsync">MEGAsync</a>: Easy
automated syncing between your computers and your MEGA Cloud Drive</li>
<li><a href="https://github.com/Chatterino/chatterino2">chatterino2</a>:
Chat client for twitch.tv</li>
<li><a href="https://github.com/Nheko-Reborn/nheko">nheko</a>: Desktop
client for the Matrix protocol.</li>
<li><a href="https://github.com/neotron/EDPathFinder">EDPathFinder</a>:
A program that creates an optimal route that passes through two or more
systems in Elite.</li>
<li><a
href="%5Bhttps://github.com/XLabsProject/iw6x-client%5D(https://git.alterware.dev/alterware/iw6-mod)">IW6-mod</a>:
Formerly known as IW6x, IW6-mod is a open-source &amp; community-driven
project aiming to recreate the multiplayer experience of Call of Duty:
Ghosts.</li>
<li><a href="https://github.com/auroramod/h1-mod">H1-Mod</a>: A client
for Call of Duty: Modern Warfare Remastered.</li>
<li><a href="https://github.com/Empier/Anti-Exploit">AntiExploit</a>:
antiexploit utility for Windows.</li>
<li><a href="https://github.com/malja/zroya">Zroya</a>: Python extension
for creating native Windows notifications..</li>
<li><a
href="https://github.com/ChristianGalla/PidginWinToastNotifications">PidginWinToastNotifications</a>:
Windows Toast Notification Plugin for Pidgin.</li>
<li><a
href="https://github.com/Nicolas-Constanty/Dnai.Editor">Dnai-Editor</a>:
Visual Scripting, node editor.</li>
<li><a href="https://gitlab.com/b0/spectral">Spectral</a>: A glossy
client for Matrix, written in QtQuick Controls 2 and C++.</li>
</ul>
