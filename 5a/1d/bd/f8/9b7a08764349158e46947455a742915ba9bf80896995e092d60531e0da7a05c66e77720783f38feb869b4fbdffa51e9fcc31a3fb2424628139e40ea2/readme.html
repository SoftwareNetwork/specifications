<h1 id="mpark.variant">MPark.Variant</h1>
<blockquote>
<p><strong>C++17</strong> <code>std::variant</code> for <strong>C++11</strong>/<strong>14</strong>/<strong>17</strong></p>
</blockquote>
<p><a href="https://github.com/mpark/variant/releases/latest"><img src="https://img.shields.io/github/release/mpark/variant.svg" alt="release" /></a> <a href="https://github.com/mpark/variant/blob/single-header/master/variant.hpp"><img src="https://img.shields.io/badge/single%20header-master-blue.svg" alt="header" /></a> <a href="https://travis-ci.org/mpark/variant"><img src="https://travis-ci.org/mpark/variant.svg?branch=master" alt="travis" /></a> <a href="https://ci.appveyor.com/project/mpark/variant"><img src="https://ci.appveyor.com/api/projects/status/github/mpark/variant?branch=master&amp;svg=true" alt="appveyor" /></a> <a href="https://github.com/mpark/variant/blob/master/LICENSE.md"><img src="https://img.shields.io/badge/license-boost-blue.svg" alt="license" /></a> <a href="https://godbolt.org/g/1qYDAK"><img src="https://img.shields.io/badge/try%20it-on%20godbolt-222266.svg" alt="godbolt" /></a> <a href="https://wandbox.org/permlink/QV3gZ2KQQNwgoFIB"><img src="https://img.shields.io/badge/try%20it-on%20wandbox-5cb85c.svg" alt="wandbox" /></a></p>
<h2 id="introduction">Introduction</h2>
<p><strong>MPark.Variant</strong> is an implementation of <strong>C++17</strong> <code>std::variant</code> for <strong>C++11</strong>/<strong>14</strong>/<strong>17</strong>.</p>
<ul>
<li>Based on <a href="https://reviews.llvm.org/rL288547">my implementation of <code>std::variant</code> for <strong>libc++</strong></a></li>
<li>Continuously tested against <strong>libc++</strong>'s <code>std::variant</code> test suite.</li>
</ul>
<h2 id="documentation">Documentation</h2>
<ul>
<li><a href="http://en.cppreference.com/w/cpp/utility/variant">cppreference.com</a></li>
<li><a href="http://eel.is/c++draft/variant">eel.is/c++draft</a></li>
</ul>
<h2 id="integration">Integration</h2>
<h3 id="single-header">Single Header</h3>
<p>The <a href="https://github.com/mpark/variant/tree/single-header">single-header</a> branch provides a standalone <code>variant.hpp</code> file for each <a href="https://github.com/mpark/variant/releases">release</a>. Copy it and <code>#include</code> away!</p>
<h3 id="submodule">Submodule</h3>
<p>You can add <code>mpark/variant</code> as a submodule to your project.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> submodule add https://github.com/mpark/variant.git 3rdparty/variant</code></pre></div>
<p>Add the <code>include</code> directory to your include path with <code>-I3rdparty/variant/include</code> then <code>#include</code> the <code>variant.hpp</code> header with <code>#include &lt;mpark/variant.hpp&gt;</code>.</p>
<p>If you use CMake, you can simply use <code>add_subdirectory(3rdparty/variant)</code>:</p>
<div class="sourceCode"><pre class="sourceCode cmake"><code class="sourceCode cmake"><span class="kw">cmake_minimum_required</span>(<span class="ot">VERSION</span> 3.6.3)

<span class="kw">project</span>(HelloWorld CXX)

<span class="kw">add_subdirectory</span>(3rdparty/variant)

<span class="kw">add_executable</span>(hello-world hello_world.cpp)
<span class="kw">target_link_libraries</span>(hello-world mpark_variant)</code></pre></div>
<h3 id="installation-cmake-find_package">Installation / CMake <code>find_package</code></h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> clone https://github.com/mpark/variant.git
<span class="fu">mkdir</span> variant/build <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> variant/build
<span class="fu">cmake</span> ..
<span class="fu">cmake</span> --build . --target install</code></pre></div>
<p>This will install <code>mpark/variant</code> to the default install-directory for your platform (<code>/usr/local</code> for Unix, <code>C:\Program Files</code> for Windows). You can also install at a custom location via the <code>CMAKE_INSTALL_PREFIX</code> variable, (e.g., <code>cmake .. -DCMAKE_INSTALL_PREFIX=/opt</code>).</p>
<p>The installed <code>mpark/variant</code> can then be found by CMake via <code>find_package</code>:</p>
<div class="sourceCode"><pre class="sourceCode cmake"><code class="sourceCode cmake"><span class="kw">cmake_minimum_required</span>(<span class="ot">VERSION</span> 3.6.3)

<span class="kw">project</span>(HelloWorld CXX)

<span class="kw">find_package</span>(mpark_variant 1.3.0 <span class="ot">REQUIRED</span>)

<span class="kw">add_executable</span>(hello-world hello_world.cpp)
<span class="kw">target_link_libraries</span>(hello-world mpark_variant)</code></pre></div>
<p>CMake will search for <code>mpark/variant</code> in its default set of installation prefixes. If <code>mpark/variant</code> is installed in a custom location via the <code>CMAKE_INSTALL_PREFIX</code> variable, you'll likely need to use the <code>CMAKE_PREFIX_PATH</code> to specify the location (e.g., <code>cmake .. -DCMAKE_PREFIX_PATH=/opt</code>).</p>
<h2 id="requirements">Requirements</h2>
<p>This library requires a standard conformant <strong>C++11</strong> compiler. The following compilers are continously tested:</p>
<table>
<colgroup>
<col width="23%" />
<col width="26%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Compiler</th>
<th>Operating System</th>
<th>Version String</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GCC 4.8.5</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>g++-4.8 (Ubuntu 4.8.5-4ubuntu8~16.04.1) 4.8.5</td>
</tr>
<tr class="even">
<td>GCC 4.9.4</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>g++-4.9 (Ubuntu 4.9.4-2ubuntu1~16.04) 4.9.4</td>
</tr>
<tr class="odd">
<td>GCC 5.5.0</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>g++-5 (Ubuntu 5.5.0-12ubuntu1~16.04) 5.5.0 20171010</td>
</tr>
<tr class="even">
<td>GCC 6.5.0</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>g++-6 (Ubuntu 6.5.0-2ubuntu1~16.04) 6.5.0 20181026</td>
</tr>
<tr class="odd">
<td>GCC 7.4.0</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>g++-7 (Ubuntu 7.4.0-1ubuntu1~16.04~ppa1) 7.4.0</td>
</tr>
<tr class="even">
<td>GCC 8.1.0</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>g++-8 (Ubuntu 8.1.0-5ubuntu1~16.04) 8.1.0</td>
</tr>
<tr class="odd">
<td>Clang 3.6.2</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>Ubuntu clang version 3.6.2-3ubuntu2 (tags/RELEASE_362/final) (based on LLVM 3.6.2)</td>
</tr>
<tr class="even">
<td>Clang 3.7.1</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>Ubuntu clang version 3.7.1-2ubuntu2 (tags/RELEASE_371/final) (based on LLVM 3.7.1)</td>
</tr>
<tr class="odd">
<td>Clang 3.8.0</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>clang version 3.8.0-2ubuntu4 (tags/RELEASE_380/final)</td>
</tr>
<tr class="even">
<td>Clang 3.9.1</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>clang version 3.9.1-4ubuntu3~16.04.2 (tags/RELEASE_391/rc2)</td>
</tr>
<tr class="odd">
<td>Clang 4.0.0</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>clang version 4.0.0-1ubuntu1~16.04.2 (tags/RELEASE_400/rc1)</td>
</tr>
<tr class="even">
<td>Clang 5.0.0</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>clang version 5.0.0-3~16.04.1 (tags/RELEASE_500/final)</td>
</tr>
<tr class="odd">
<td>Clang 6.0.0</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>clang version 6.0.0-1ubuntu2~16.04.1 (tags/RELEASE_600/final)</td>
</tr>
<tr class="even">
<td>Clang 7.0.1</td>
<td>Ubuntu 16.04.5 LTS</td>
<td>clang version 7.0.1-svn347285-1~exp1~20181124105320.40 (branches/release_70)</td>
</tr>
<tr class="odd">
<td>Clang Xcode 7.3</td>
<td>Darwin Kernel Version 15.6.0 (OS X 10.11.6)</td>
<td>Apple LLVM version 7.3.0 (clang-703.0.31)</td>
</tr>
<tr class="even">
<td>Clang Xcode 8.3</td>
<td>Darwin Kernel Version 16.6.0 (OS X 10.12.5)</td>
<td>Apple LLVM version 8.1.0 (clang-802.0.42)</td>
</tr>
<tr class="odd">
<td>Clang Xcode 9.4</td>
<td>Darwin Kernel Version 17.4.0 (OS X 10.13.3)</td>
<td>Apple LLVM version 9.1.0 (clang-902.0.39.2)</td>
</tr>
<tr class="even">
<td>Clang Xcode 10.1</td>
<td>Darwin Kernel Version 17.7.0 (OS X 10.13.6)</td>
<td>Apple LLVM version 10.0.0 (clang-1000.11.45.5)</td>
</tr>
<tr class="odd">
<td>Visual Studio 14 2015</td>
<td>Visual Studio 2015 with Update 3</td>
<td>MSVC 19.0.24241.7</td>
</tr>
<tr class="even">
<td>Visual Studio 15 2017</td>
<td>Visual Studio 2017 with Update 8</td>
<td>MSVC 19.15.26732.1</td>
</tr>
<tr class="odd">
<td>Visual Studio 15 2017</td>
<td>Visual Studio 2017 with Update 9</td>
<td>MSVC 19.16.27025.1</td>
</tr>
<tr class="even">
<td>Visual Studio 15 2017 (<strong>Clang/LLVM</strong>)</td>
<td>Visual Studio 2017</td>
<td>Clang 7.0.0</td>
</tr>
</tbody>
</table>
<h4 id="notes">NOTES</h4>
<ul>
<li><strong>GCC 4.8</strong>/<strong>4.9</strong>: <code>constexpr</code> support is not available for <code>visit</code> and relational operators.</li>
<li>Enabling <strong>libc++</strong> <code>std::variant</code> tests require <code>-std=c++17</code> support.</li>
</ul>
<h2 id="cmake-variables">CMake Variables</h2>
<ul>
<li><p><strong><code>MPARK_VARIANT_INCLUDE_TESTS</code></strong>:<code>STRING</code> (<strong>default</strong>: <code>&quot;&quot;</code>)</p>
<p>Semicolon-separated list of tests to build. Possible values are <code>mpark</code>, and <code>libc++</code>.</p>
<p><strong>NOTE</strong>: The <strong>libc++</strong> <code>std::variant</code> tests are built with <code>-std=c++17</code>.</p></li>
</ul>
<h2 id="unit-tests">Unit Tests</h2>
<p>Refer to <a href="test/README.md" class="uri">test/README.md</a>.</p>
<h2 id="license">License</h2>
<p>Distributed under the <a href="LICENSE.md">Boost Software License, Version 1.0</a>.</p>
