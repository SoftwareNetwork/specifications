<div class="figure">
<img src="https://user-images.githubusercontent.com/1812216/42513718-ee6e98d0-8457-11e8-9baf-8d83f61a3097.png" alt="EnTT: Gaming meets modern C++" />
<p class="caption">EnTT: Gaming meets modern C++</p>
</div>
<!--
@cond TURN_OFF_DOXYGEN
-->
<p><a href="http://badge.fury.io/gh/skypjack%2Fentt"><img src="https://badge.fury.io/gh/skypjack%2Fentt.svg" alt="GitHub version" /></a> <a href="https://github.com/skypjack/entt"><img src="https://tokei.rs/b1/github/skypjack/entt" alt="LoC" /></a> <a href="https://travis-ci.org/skypjack/entt"><img src="https://travis-ci.org/skypjack/entt.svg?branch=master" alt="Build Status" /></a> <a href="https://ci.appveyor.com/project/skypjack/entt"><img src="https://ci.appveyor.com/api/projects/status/rvhaabjmghg715ck?svg=true" alt="Build status" /></a> <a href="https://coveralls.io/github/skypjack/entt?branch=master"><img src="https://coveralls.io/repos/github/skypjack/entt/badge.svg?branch=master" alt="Coverage Status" /></a> <a href="https://gitter.im/skypjack/entt"><img src="https://badges.gitter.im/skypjack/entt.png" alt="Gitter chat" /></a> <a href="https://www.paypal.me/skypjack"><img src="https://img.shields.io/badge/Donate-PayPal-green.svg" alt="Donate" /></a></p>
<p><code>EnTT</code> is a header-only, tiny and easy to use library for game programming and much more written in <strong>modern C++</strong>, mainly known for its innovative <strong>entity-component-system (ECS)</strong> model.<br/> <a href="https://github.com/skypjack/entt/wiki/EnTT-in-Action">Among others</a>, it's used in <a href="https://minecraft.net/en-us/attribution/"><strong>Minecraft</strong></a> by Mojang and the <a href="https://developers.arcgis.com/arcgis-runtime/"><strong>ArcGIS Runtime SDKs</strong></a> by Esri. Open an issue or submit a PR if you don't see your project in the list!</p>
<hr />
<p>Do you want to <strong>keep up with changes</strong> or do you have a <strong>question</strong> that doesn't require you to open an issue?<br/> Join the <a href="https://gitter.im/skypjack/entt">gitter channel</a> and meet other users like you. The more we are, the better for everyone.</p>
<p>Wondering why your <strong>debug build</strong> is so slow on Windows or how to represent a <strong>hierarchy</strong> with components?<br/> Check out the <a href="https://github.com/skypjack/entt/wiki/Frequently-Asked-Questions">FAQ</a> and the <a href="https://github.com/skypjack/entt/wiki">wiki</a> if you have these or other doubts, your answers may already be there.</p>
<p>If you use <code>EnTT</code> and you want to say thanks or support the project, please <strong>consider becoming a patron</strong>:</p>
<p><a href="https://www.patreon.com/bePatron?c=1772573"><img src="https://c5.patreon.com/external/logo/become_a_patron_button.png" alt="Patreon" /></a></p>
<p><a href="https://skypjack.github.io/patreon/">Many thanks</a> to those who supported me and still support me today.</p>
<h1 id="table-of-contents">Table of Contents</h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#code-example">Code Example</a></li>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#performance">Performance</a></li>
<li><a href="#build-instructions">Build Instructions</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#library">Library</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#packaging-tools">Packaging Tools</a></li>
<li><a href="#entt-in-action">EnTT in Action</a></li>
<li><a href="#contributors">Contributors</a></li>
<li><a href="#license">License</a></li>
<li><a href="#support">Support</a></li>
<li><a href="#patreon">Patreon</a></li>
<li><a href="#donation">Donation</a></li>
<li><a href="#hire-me">Hire me</a> <!--
@endcond TURN_OFF_DOXYGEN
--></li>
</ul>
<h1 id="introduction">Introduction</h1>
<p>The entity-component-system (also known as <em>ECS</em>) is an architectural pattern used mostly in game development. For further details:</p>
<ul>
<li><a href="http://entity-systems.wikidot.com/">Entity Systems Wiki</a></li>
<li><a href="http://cowboyprogramming.com/2007/01/05/evolve-your-heirachy/">Evolve Your Hierarchy</a></li>
<li><a href="https://en.wikipedia.org/wiki/Entity%E2%80%93component%E2%80%93system">ECS on Wikipedia</a></li>
</ul>
<p>This project started off as a pure entity-component system. Over time the codebase has grown as more and more classes and functionalities were added.<br/> Here is a brief, yet incomplete list of what it offers today:</p>
<ul>
<li>Statically generated integer <strong>identifiers</strong> for types (assigned either at compile-time or at runtime).</li>
<li>A <code>constexpr</code> utility for human readable <strong>resource names</strong>.</li>
<li>A minimal <strong>configuration system</strong> built using the monostate pattern.</li>
<li>An incredibly fast <strong>entity-component system</strong> based on sparse sets, with its own <em>pay for what you use</em> policy to adjust performance and memory usage according to the users' requirements.</li>
<li>Views and groups to iterate entities and components and allow different access patterns, from <strong>perfect SoA</strong> to fully random.</li>
<li>A lot of <strong>facilities</strong> built on top of the entity-component system to help the users and avoid reinventing the wheel (dependencies, snapshot, actor class, support for <strong>reactive systems</strong> and so on).</li>
<li>The smallest and most basic implementation of a <strong>service locator</strong> ever seen.</li>
<li>A built-in, non-intrusive and macro-free runtime <strong>reflection system</strong>.</li>
<li>A <strong>cooperative scheduler</strong> for processes of any type.</li>
<li>All that is needed for <strong>resource management</strong> (cache, loaders, handles).</li>
<li>Delegates, <strong>signal handlers</strong> (with built-in support for collectors) and a tiny event dispatcher for immediate and delayed events to integrate in loops.</li>
<li>A general purpose <strong>event emitter</strong> as a CRTP idiom based class template.</li>
<li>And <strong>much more</strong>! Check out the <a href="https://github.com/skypjack/entt/wiki"><strong>wiki</strong></a>.</li>
</ul>
<p>Consider this list a work in progress as well as the project. The whole API is fully documented in-code for those who are brave enough to read it.</p>
<p>Currently, <code>EnTT</code> is tested on Linux, Microsoft Windows and OSX. It has proven to work also on both Android and iOS.<br/> Most likely it won't be problematic on other systems as well, but it hasn't been sufficiently tested so far.</p>
<h2 id="code-example">Code Example</h2>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="pp">#include </span><span class="im">&lt;entt/entt.hpp&gt;</span>
<span class="pp">#include </span><span class="im">&lt;cstdint&gt;</span>

<span class="kw">struct</span> position {
    <span class="dt">float</span> x;
    <span class="dt">float</span> y;
};

<span class="kw">struct</span> velocity {
    <span class="dt">float</span> dx;
    <span class="dt">float</span> dy;
};

<span class="dt">void</span> update(entt::registry &amp;registry) {
    <span class="kw">auto</span> view = registry.view&lt;position, velocity&gt;();

    <span class="cf">for</span>(<span class="kw">auto</span> entity: view) {
        <span class="co">// gets only the components that are going to be used ...</span>

        <span class="kw">auto</span> &amp;vel = view.get&lt;velocity&gt;(entity);

        vel.dx = <span class="fl">0.</span>;
        vel.dy = <span class="fl">0.</span>;

        <span class="co">// ...</span>
    }
}

<span class="dt">void</span> update(<span class="bu">std::</span>uint64_t dt, entt::registry &amp;registry) {
    registry.view&lt;position, velocity&gt;().each([dt](<span class="kw">auto</span> &amp;pos, <span class="kw">auto</span> &amp;vel) {
        <span class="co">// gets all the components of the view at once ...</span>

        pos.x += vel.dx * dt;
        pos.y += vel.dy * dt;

        <span class="co">// ...</span>
    });
}

<span class="dt">int</span> main() {
    entt::registry registry;
    <span class="bu">std::</span>uint64_t dt = <span class="dv">16</span>;

    <span class="cf">for</span>(<span class="kw">auto</span> i = <span class="dv">0</span>; i &lt; <span class="dv">10</span>; ++i) {
        <span class="kw">auto</span> entity = registry.create();
        registry.assign&lt;position&gt;(entity, i * <span class="fl">1.f</span>, i * <span class="fl">1.f</span>);
        <span class="cf">if</span>(i % <span class="dv">2</span> == <span class="dv">0</span>) { registry.assign&lt;velocity&gt;(entity, i * <span class="fl">.1f</span>, i * <span class="fl">.1f</span>); }
    }

    update(dt, registry);
    update(registry);

    <span class="co">// ...</span>
}</code></pre></div>
<h2 id="motivation">Motivation</h2>
<p>I started developing <code>EnTT</code> for the <em>wrong</em> reason: my goal was to design an entity-component system to beat another well known open source solution both in terms of performance and possibly memory usage.<br/> In the end, I did it, but it wasn't very satisfying. Actually it wasn't satisfying at all. The fastest and nothing more, fairly little indeed. When I realized it, I tried hard to keep intact the great performance of <code>EnTT</code> and to add all the features I wanted to see in <em>my own library</em> at the same time.</p>
<p>Nowadays, <code>EnTT</code> is finally what I was looking for: still faster than its <em>competitors</em>, lower memory usage in the average case, a really good API and an amazing set of features. And even more, of course.</p>
<h2 id="performance">Performance</h2>
<p>As it stands right now, <code>EnTT</code> is just fast enough for my requirements when compared to my first choice (it was already amazingly fast actually).<br/> Below is a comparison between the two (both of them compiled with GCC 7.3.0 on a Dell XPS 13 from mid 2014):</p>
<table style="width:56%;">
<colgroup>
<col width="16%" />
<col width="19%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th>Benchmark</th>
<th>EntityX (compile-time)</th>
<th>EnTT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Create 1M entities</td>
<td>0.0147s</td>
<td><strong>0.0046s</strong></td>
</tr>
<tr class="even">
<td>Destroy 1M entities</td>
<td>0.0053s</td>
<td><strong>0.0045s</strong></td>
</tr>
<tr class="odd">
<td>1M entities, one component</td>
<td>0.0012s</td>
<td><strong>1.9e-07s</strong></td>
</tr>
<tr class="even">
<td>1M entities, two components</td>
<td>0.0012s</td>
<td><strong>3.8e-07s</strong></td>
</tr>
<tr class="odd">
<td>1M entities, two components<br/>Half of the entities have all the components</td>
<td>0.0009s</td>
<td><strong>3.8e-07s</strong></td>
</tr>
<tr class="even">
<td>1M entities, two components<br/>One of the entities has all the components</td>
<td>0.0008s</td>
<td><strong>1.0e-06s</strong></td>
</tr>
<tr class="odd">
<td>1M entities, five components</td>
<td>0.0010s</td>
<td><strong>7.0e-07s</strong></td>
</tr>
<tr class="even">
<td>1M entities, ten components</td>
<td>0.0011s</td>
<td><strong>1.2e-06s</strong></td>
</tr>
<tr class="odd">
<td>1M entities, ten components<br/>Half of the entities have all the components</td>
<td>0.0010s</td>
<td><strong>1.2e-06s</strong></td>
</tr>
<tr class="even">
<td>1M entities, ten components<br/>One of the entities has all the components</td>
<td>0.0008s</td>
<td><strong>1.2e-06s</strong></td>
</tr>
<tr class="odd">
<td>Sort 150k entities, one component<br/>Arrays are in reverse order</td>
<td>-</td>
<td><strong>0.0036s</strong></td>
</tr>
<tr class="even">
<td>Sort 150k entities, enforce permutation<br/>Arrays are in reverse order</td>
<td>-</td>
<td><strong>0.0005s</strong></td>
</tr>
<tr class="odd">
<td>Sort 150k entities, one component<br/>Arrays are almost sorted, std::sort</td>
<td>-</td>
<td><strong>0.0035s</strong></td>
</tr>
<tr class="even">
<td>Sort 150k entities, one component<br/>Arrays are almost sorted, insertion sort</td>
<td>-</td>
<td><strong>0.0007s</strong></td>
</tr>
</tbody>
</table>
<p>Note: The default version of <code>EntityX</code> (<code>master</code> branch) wasn't added to the comparison because it's already much slower than its compile-time counterpart.</p>
<p>Pretty interesting results, aren't them? In fact, these benchmarks are the ones used by <code>EntityX</code> to show <em>how fast it is</em>. To be honest, they aren't so good and these results shouldn't be taken too seriously (indeed they are completely unrealistic).<br/> The proposed entity-component system is incredibly fast to iterate entities, this is a fact. The compiler can make a lot of optimizations because of how <code>EnTT</code> works, even more when components aren't used at all. This is exactly the case for these benchmarks. On the other hand, if we consider real world cases, <code>EnTT</code> is somewhere between a bit and much faster than the other solutions around when users also access the components and not just the entities, although it isn't as fast as reported by these benchmarks.<br/> This is why they are completely wrong and cannot be used to evaluate any of the entity-component-system libraries out there.</p>
<p>The choice to use <code>EnTT</code> should be based on its carefully designed API, its set of features and the general performance, not because some single benchmark shows it to be the fastest tool available.</p>
<p>In the future I'll likely try to get even better performance while still adding new features, mainly for fun.<br/> If you want to contribute and/or have suggestions, feel free to make a PR or open an issue to discuss your idea.</p>
<h1 id="build-instructions">Build Instructions</h1>
<h2 id="requirements">Requirements</h2>
<p>To be able to use <code>EnTT</code>, users must provide a full-featured compiler that supports at least C++17.<br/> The requirements below are mandatory to compile the tests and to extract the documentation:</p>
<ul>
<li><code>CMake</code> version 3.2 or later.</li>
<li><code>Doxygen</code> version 1.8 or later.</li>
</ul>
<p>Alternatively, <code>Bazel</code> is also supported as a build system (credits to <a href="https://github.com/zaucy">zaucy</a> who introduced what's required with <a href="https://github.com/skypjack/entt/pull/291">this</a> pull request and offered to maintain it).<br/> In the documentation below I'll still refer to <code>CMake</code>, this being the official build system of the library.</p>
<p>If you are looking for a C++14 version of <code>EnTT</code>, check out the git tag <code>cpp14</code>.</p>
<h2 id="library">Library</h2>
<p><code>EnTT</code> is a header-only library. This means that including the <code>entt.hpp</code> header is enough to include the library as a whole and use it. For those who are interested only in the entity-component system, consider to include the sole <code>entity/registry.hpp</code> header instead.<br/> It's a matter of adding the following line to the top of a file:</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="pp">#include </span><span class="im">&lt;entt/entt.hpp&gt;</span></code></pre></div>
<p>Use the line below to include only the entity-component system instead:</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="pp">#include </span><span class="im">&lt;entt/entity/registry.hpp&gt;</span></code></pre></div>
<p>Then pass the proper <code>-I</code> argument to the compiler to add the <code>src</code> directory to the include paths.</p>
<h2 id="documentation">Documentation</h2>
<p>The documentation is based on <a href="http://www.doxygen.nl/">doxygen</a>. To build it:</p>
<pre><code>$ cd build
$ cmake .. -DBUILD_DOCS=ON
$ make</code></pre>
<p>The API reference will be created in HTML format within the directory <code>build/docs/html</code>. To navigate it with your favorite browser:</p>
<pre><code>$ cd build
$ your_favorite_browser docs/html/index.html</code></pre>
<!--
@cond TURN_OFF_DOXYGEN
-->
<p>It's also available <a href="https://skypjack.github.io/entt/">online</a> for the latest version.<br/> Finally, there exists a <a href="https://github.com/skypjack/entt/wiki">wiki</a> dedicated to the project where users can find all related documentation pages. <!--
@endcond TURN_OFF_DOXYGEN
--></p>
<h2 id="tests">Tests</h2>
<p>To compile and run the tests, <code>EnTT</code> requires <em>googletest</em>.<br/> <code>cmake</code> will download and compile the library before compiling anything else. In order to build the tests, set the CMake option <code>BUILD_TESTING</code> to <code>ON</code>.</p>
<p>To build the most basic set of tests:</p>
<ul>
<li><code>$ cd build</code></li>
<li><code>$ cmake -DBUILD_TESTING=ON ..</code></li>
<li><code>$ make</code></li>
<li><code>$ make test</code></li>
</ul>
<p>Note that benchmarks are not part of this set.</p>
<h1 id="packaging-tools">Packaging Tools</h1>
<p><code>EnTT</code> is available for some of the most known packaging tools. In particular:</p>
<ul>
<li><a href="https://bintray.com/skypjack/conan/entt%3Askypjack/_latestVersion"><code>Conan</code></a>, the C/C++ Package Manager for Developers.</li>
<li><a href="https://github.com/skypjack/homebrew-entt"><code>Homebrew</code></a>, the missing package manager for macOS.<br/> Available as a homebrew formula. Just type the following to install it: <code>brew install skypjack/entt/entt</code></li>
<li><a href="https://github.com/Microsoft/vcpkg/tree/master/ports/entt"><code>vcpkg</code></a>, Microsoft VC++ Packaging Tool.</li>
</ul>
<p>Consider this list a work in progress and help me to make it longer.</p>
<!--
@cond TURN_OFF_DOXYGEN
-->
<h1 id="entt-in-action">EnTT in Action</h1>
<p><code>EnTT</code> is widely used in private and commercial applications. I cannot even mention most of them because of some signatures I put on some documents time ago. Fortunately, there are also people who took the time to implement open source projects based on <code>EnTT</code> and did not hold back when it came to documenting them.</p>
<p><a href="https://github.com/skypjack/entt/wiki/EnTT-in-Action">Here</a> you can find an incomplete list of games, applications and articles that can be used as a reference.</p>
<p>If you know of other resources out there that are about <code>EnTT</code>, feel free to open an issue or a PR and I'll be glad to add them to the list.</p>
<h1 id="contributors">Contributors</h1>
<p><code>EnTT</code> was written initially as a faster alternative to other well known and open source entity-component systems. Nowadays this library is moving its first steps. Much more will come in the future and hopefully I'm going to work on it for a long time.<br/> Requests for features, PR, suggestions ad feedback are highly appreciated.</p>
<p>If you find you can help me and want to contribute to the project with your experience or you do want to get part of the project for some other reasons, feel free to contact me directly (you can find the mail in the <a href="https://github.com/skypjack">profile</a>).<br/> I can't promise that each and every contribution will be accepted, but I can assure that I'll do my best to take them all seriously.</p>
<p>If you decide to participate, please see the guidelines for <a href="CONTRIBUTING.md">contributing</a> before to create issues or pull requests.<br/> Take also a look at the <a href="https://github.com/skypjack/entt/blob/master/AUTHORS">contributors list</a> to know who has participated so far. <!--
@endcond TURN_OFF_DOXYGEN
--></p>
<h1 id="license">License</h1>
<p>Code and documentation Copyright (c) 2017-2019 Michele Caini.<br/> Logo Copyright (c) 2018-2019 Richard Caseres.</p>
<p>Code released under <a href="https://github.com/skypjack/entt/blob/master/LICENSE">the MIT license</a>. Documentation released under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.<br/> Logo released under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</p>
<!--
@cond TURN_OFF_DOXYGEN
-->
<h1 id="support">Support</h1>
<h2 id="patreon">Patreon</h2>
<p>Become a <a href="https://www.patreon.com/bePatron?c=1772573">patron</a> and get access to extra content, help me spend more time on the projects you love and create new ones for you. Your support will help me to continue the work done so far and make it more professional and feature-rich every day.<br/> It takes very little to <a href="https://www.patreon.com/bePatron?c=1772573">become a patron</a> and thus help the software you use every day. Don't miss the chance.</p>
<h2 id="donation">Donation</h2>
<p>Developing and maintaining <code>EnTT</code> takes some time and lots of coffee. I'd like to add more and more functionalities in future and turn it in a full-featured solution.<br/> If you want to support this project, you can offer me an espresso. I'm from Italy, we're used to turning the best coffee ever in code. If you find that it's not enough, feel free to support me the way you prefer.<br/> Take a look at the donation button at the top of the page for more details or just click <a href="https://www.paypal.me/skypjack">here</a>.</p>
<h2 id="hire-me">Hire me</h2>
<p>If you start using <code>EnTT</code> and need help, if you want a new feature and want me to give it the highest priority, if you have any other reason to contact me: do not hesitate. I'm available for hiring.<br/> Feel free to take a look at my <a href="https://github.com/skypjack">profile</a> and contact me by mail. <!--
@endcond TURN_OFF_DOXYGEN
--></p>
