<h1 id="libx11---core-x11-protocol-client-library">libX11 - Core X11
protocol client library</h1>
<p>Documentation for this library can be found in the included man
pages, and in the Xlib spec from the specs subdirectory, also available
at:</p>
<ul>
<li><p>https://www.x.org/releases/current/doc/libX11/libX11/libX11.html</p></li>
<li><p>https://www.x.org/releases/current/doc/libX11/libX11/libX11.pdf</p></li>
</ul>
<p>and the O‚ÄôReilly Xlib books, which they have made freely available
online, though only for older versions of X11:</p>
<ul>
<li><p>X Series Volume 2: Xlib Reference Manual (1989, covers X11R3)
https://www.archive.org/details/xlibretmanver1102nyemiss</p></li>
<li><p>X Series Volume 2: Xlib Reference Manual, 2nd Edition (1990,
covers X11R4)
https://www.archive.org/details/xlibrefmanv115ed02nyemiss</p></li>
</ul>
<p>All questions regarding this software should be directed at the Xorg
mailing list:</p>
<p>https://lists.x.org/mailman/listinfo/xorg</p>
<p>The primary development code repository can be found at:</p>
<p>https://gitlab.freedesktop.org/xorg/lib/libX11</p>
<p>Please submit bug reports and requests to merge patches there.</p>
<p>For patch submission instructions, see:</p>
<p>https://www.x.org/wiki/Development/Documentation/SubmittingPatches</p>
<h2 id="release-1.8.12">Release 1.8.12</h2>
<ul>
<li>x11.pc: Add URL field (!280)</li>
<li>xkb: Bring over fixes from Xserver to shared XKB source files
(!279)</li>
</ul>
<h2 id="release-1.8.11">Release 1.8.11</h2>
<ul>
<li>Close xcb connection after freeing display structure to avoid XIO
error when running synchronized (!264)</li>
<li>Don‚Äôt allocate memory for a zero-sized list of directories when
<code>SetFontPath()</code> is called with <code>ndirs == 0</code>
(!266)</li>
<li>Fix <code>-Werror=array-bounds</code> build failures with gcc 14.2
when <code>MALLOC_0_RETURNS_NULL</code> is defined (!267)</li>
<li>Set <code>data</code> field to 0 when initializing new requests
(!268)</li>
<li>ximcp: don‚Äôt leak window if <code>XGetAtomName()</code> fails
(!269)</li>
<li>ximcp: allow XNArea with OnTheSpot (!270)</li>
<li>ximcp: hide internal functions added in 1.8.10 (!271)</li>
<li>Handle <code>-Wextra-semi-stmt</code> warnings from clang
(!272)</li>
<li>xkb: avoid undefined behavior due to left shift overflow (#225,
!273)</li>
<li>Fix misuse of <code>UCSConvertCase()</code> in
<code>XConvertCase()</code> (!274)</li>
<li>drop <code>pthread-stubs</code> dependency on Dragonfly, FreeBSD,
&amp; NetBSD (!277)</li>
</ul>
<h2 id="release-1.8.10">Release 1.8.10</h2>
<ul>
<li>Re-fix XIM input sometimes jumbled (#205, #206, #207, #208,
!246)</li>
<li>Fix various static analysis errors (!250)</li>
<li>Add compose sequences for Arabic hamza (!218), Ezh (!221), and
hryvnia currency (!259)</li>
<li>Make colormap private interfaces thread safe (#215, !254)</li>
<li>Fix deadlock in XRebindKeysym() (!256)</li>
<li>Assorted memory handling cleanups (!251, !258)</li>
<li>Restore VAX support still in use by NetBSD (!257)</li>
</ul>
<h2 id="release-1.8.9">Release 1.8.9</h2>
<ul>
<li>Fix regressions introduced in 1.8.8 (!245, !248) - this includes
reverting for now the previous ‚ÄúFix XIM input sometimes jumbled (#198,
!236)‚Äù</li>
</ul>
<h2 id="release-1.8.8">Release 1.8.8</h2>
<ul>
<li>Fix XIM input sometimes jumbled (#198, !236)</li>
<li>Fix _XkbReadGetDeviceInfoReply for nButtons == dev-&gt;buttons
(!237)</li>
<li>Drop ifdefs for platforms that are no longer supported (!242,
!243)</li>
<li>Assorted memory handling cleanups</li>
</ul>
<h2 id="release-1.8.7">Release 1.8.7</h2>
<ul>
<li>Security fixes and hardening in XImage and pixmap handling code
(CVE-2023-43786, CVE-2023-43787, !234)</li>
<li>Fix buffer allocation in _XkbReadKeySyms() (CVE-2023-43785)</li>
<li>Fail XOpenDisplay() if server-provided default visual is invalid
(!233)</li>
<li>Bring XKB docs in line with actual implementation (!231, !228)</li>
<li>Xutil.h: declare XEmptyRegion() and XEqualRegion() as Bool
(!225)</li>
<li>Assorted updates to en_US.UTF-8 compose keys (!213, !214, !215,
!216, !217, !219, !220, !222, !223, !226, !227, !229)</li>
</ul>
<h2 id="release-1.8.6">Release 1.8.6</h2>
<ul>
<li>Add bounds checks in InitExt.c (CVE-2023-3138)</li>
</ul>
<h2 id="release-1.8.5">Release 1.8.5</h2>
<ul>
<li>autoconf &amp; libtool updates (!187, !188)</li>
<li>Restore missing text in XSetScreenSaver man page (#187, !203)</li>
<li>Update am_ET.UTF-8 compose keys to use dead-vowel symbols, in
coordination with xkeyboard-config 2.39 (!205)</li>
<li>Assorted updates to en_US.UTF-8 compose keys (!189, !195, !196,
!198, !199, !200, !201, !207, !208, !209)</li>
</ul>
<h2 id="release-1.8.4">Release 1.8.4</h2>
<ul>
<li>Revert AddressSanitizer fix from 1.8.3 that caused regression (#176,
!180)</li>
<li>Add two compose sequences for ‚Äúcapital B with stroke‚Äù, remove others
(!179)</li>
<li>Further improved handling of reentering libX11 via X*IfEvent() calls
(!176)</li>
</ul>
<h2 id="release-1.8.3">Release 1.8.3</h2>
<ul>
<li>Improved handling of reentering libX11 via X*IfEvent() calls (!171,
!173)</li>
<li>Fix loading of en_US.UTF-8/XLC_LOCALE (#167, !174)</li>
<li>Add XFreeThreads() and automatic call from a destructor function
when thread-safety-constructor is enabled (!167).</li>
<li>Address issues found by UBSan and AddressSanitizer</li>
<li>Fix build with older gcc versions (!169)</li>
</ul>
<h2 id="release-1.8.2">Release 1.8.2</h2>
<ul>
<li>Allow X*IfEvent() to reenter libX11 to avoid deadlock from unsafe
calls when thread-safety-constructor is enabled (!150).</li>
<li>Remove Xlib‚Äôs pthread function stubs - instead use system provided
threads functions, including linking against any needed pthread
libraries if thread-safety-constructor is enabled (!155, !156).</li>
<li>Fix off-by-one error in XKeycodeToKeysym for indexes &gt; 3
(!78).</li>
<li>Allow XNSpotLocation with OnTheSpot (!127).</li>
<li>Fix Win32 build when -fno-common is in effect (!140).</li>
<li>Fix memory leak in XRegisterIMInstantiateCallback (!158).</li>
<li>Add compose sequences for the double-struck capitals ‚Ñï ‚Ñ§ ‚Ñö ‚Ñù ‚ÑÇ
(!144), the Samogitian E with dot above and macron (!147), Unicode minus
sign (!163).</li>
<li>Change <Compose> &lt;^&gt; &lt;-&gt; to mean superscript minus
instead of macron (!162).</li>
<li>Delete compose sequences that mix top-row digits with numpad digits
(!139) or mix upper &amp; lower case letters (!144).</li>
<li>Delete some unuseful compose sequences meant for B√©po layout
(!146).</li>
<li>Delete compose sequences using leftcaret &amp; rightcaret keysyms
(!163).</li>
<li>Remove KOI8-R character set from en_US.UTF-8/XLC_LOCALE (!148).</li>
<li>Map sr locales to sr_RS compose files (!161).</li>
</ul>
<h2 id="release-1.8.1">Release 1.8.1</h2>
<ul>
<li>Fix ‚Äìenable-thread-safety-constructor configure option</li>
</ul>
<h2 id="release-1.8">Release 1.8</h2>
<ul>
<li>Add ‚Äìenable-thread-safety-constructor configure option (default:
enabled) to call XInitThreads() from the library‚Äôs constructor, thus
enabling thread-safety and locking by default. This may expose bugs in
clients which did not follow documented rules for calling libX11
functions.</li>
<li>Fix Ethopian (am_ET.UTF-8) compose sequences.</li>
<li>Remove 8 compose sequences that generated the input symbols.</li>
<li>Add compose seuences for abovedot (&lt;period&gt; &lt;space&gt;),
diaeresis (&lt;quotedbl&gt; &lt;space&gt;), and ogonek
(&lt;semicolon&gt; &lt;space&gt;).</li>
</ul>
<h2 id="release-1.7.5">Release 1.7.5</h2>
<ul>
<li>Avoids a segfault when an invalid name is used for opening a
display.</li>
</ul>
<h2 id="release-1.7.4">Release 1.7.4</h2>
<ul>
<li>Fixes the ‚ÄúUnknown sequence number‚Äù error by allowing backward jumps
in the sequence number when widening it.</li>
<li>Any changes to virtual modifiers get propagated properly.</li>
<li>Greek case-conversion tables were updated to Unicode Data 14.0.</li>
<li>Compose sequences for ‚òÆ üÑØ ‚áê ‚áë ‚áì were added, being the following: OY,
()), =&lt;, =^, and =v.</li>
<li>Hammer-and-sickle can be composed with question mark plus
backslash.</li>
</ul>
<h2 id="release-1.7.3">Release 1.7.3</h2>
<ul>
<li>Fixes a hanging issue in _XReply() where the replying thread would
wait for an event when another thread was already waiting for one.</li>
<li>Avoids a crash when the X connection gets broken while closing
down.</li>
</ul>
<h2 id="release-1.7.2">Release 1.7.2</h2>
<p>This is a bug fix release, correcting a regression introduced by and
improving the checks from the fix for CVE-2021-31535.</p>
<h2 id="release-1.7.1">Release 1.7.1</h2>
<p>This is a bug fix release, including a security fix for
CVE-2021-31535, nls and documentation corrections.</p>
<ul>
<li>Reject string longer than USHRT_MAX before sending them on the
wire</li>
<li>Fix out-of-bound access in KeySymToUcs4()</li>
<li>nls: allow composing all breved letters also with a lowercase
‚Äúu‚Äù</li>
<li>nls: add ‚ÄòC.utf8‚Äô as an alias for ‚Äòen_US.UTF-8‚Äô</li>
<li>Nroff code fixes</li>
<li>Comments fixes</li>
</ul>
<h2 id="release-1.7.0">Release 1.7.0</h2>
<p>Version 1.7.0 includes a new API, hence the change from the 1.6
series to 1.7:</p>
<ul>
<li>XSetIOErrorExitHandler which provides a mechanism for applications
to recover from I/O error conditions instead of being forced to exit.
Thanks to Carlos Garnacho for this.</li>
</ul>
<p>This release includes a bunch of bug fixes, some of which have been
pending for over three years:</p>
<ul>
<li><p>A bunch of nls cleanups to remove obsolete entries and clean up
formatting of the list. Thanks to Benno Schulenberg for these.</p></li>
<li><p>Warning fixes and other cleanups across a huge swath of the
library. Thanks to Alan Coopersmith for these.</p></li>
<li><p>Memory allocation bugs, including leaks and use after free in the
locale code. Thanks to Krzesimir Nowak, Jacek Caban and Vittorio Zecca
for these.</p></li>
<li><p>Thread safety fixes in the locale code. Thanks to Jacek Caban for
these.</p></li>
<li><p>poll_for_response race condition fix. Thanks to Frediano Ziglio
for the bulk of this effort, and to Peter Hutterer for careful review
and improvements.</p></li>
</ul>
<p>Version 1.7.0 includes a couple of new locales:</p>
<ul>
<li>ia and ie locales. Thanks to Carmina16 for these.</li>
</ul>
<p>There are also numerous compose entries added, including:</p>
<ul>
<li><p>|^ or ^| for ‚Üë, |v or v| for ‚Üì, ~~ for ‚âà. Thanks to Antti
Savolainen for this.</p></li>
<li><p>Allowing use of ‚Äòv‚Äô for caron, in addition to ‚Äòc‚Äô, so things like
vC for ƒå, vc for ƒç. Thanks to Benno Schulenberg for this.</p></li>
<li><p>Compose sequences LT, lt for ‚Äò&lt;‚Äô, and GT, gt for ‚Äò&gt;‚Äô for
keyboards where those are difficult to access. Thanks to Jonathan
Belsewir for this.</p></li>
</ul>
