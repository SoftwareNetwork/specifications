<p align="center">
<img height="100" src="https://i.imgur.com/oDXeMUQ.png" alt="argparse"/>
</p>
<p align="center">
<img src="https://travis-ci.org/p-ranav/argparse.svg?branch=master" alt="travis"/> <a href="https://github.com/p-ranav/argparse/blob/master/LICENSE"> <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="license"/> </a> <img src="https://img.shields.io/badge/version-2.3-blue.svg?cacheSeconds=2592000" alt="version"/>
</p>
<h2 id="highlights">Highlights</h2>
<ul>
<li>Single header file</li>
<li>Requires C++17</li>
<li>MIT License</li>
</ul>
<h2 id="quick-start">Quick Start</h2>
<p>Simply include argparse.hpp and you’re good to go.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;argparse/argparse.hpp&gt;</span></span></code></pre></div>
<p>To start parsing command-line arguments, create an <code>ArgumentParser</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;program_name&quot;</span><span class="op">);</span></span></code></pre></div>
<p><strong>NOTE:</strong> There is an optional second argument to the <code>ArgumentParser</code> which is the program version. Example: <code>argparse::ArgumentParser program("libfoo", "1.9.0");</code></p>
<p>To add a new argument, simply call <code>.add_argument(...)</code>. You can provide a variadic list of argument names that you want to group together, e.g., <code>-v</code> and <code>--verbose</code></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;foo&quot;</span><span class="op">);</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-v&quot;</span><span class="op">,</span> <span class="st">&quot;--verbose&quot;</span><span class="op">);</span> <span class="co">// parameter packing</span></span></code></pre></div>
<p>Argparse supports a variety of argument types including positional, optional, and compound arguments. Below you can see how to configure each of these types:</p>
<h3 id="positional-arguments">Positional Arguments</h3>
<p>Here’s an example of a <strong><em>positional argument</em></strong>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;argparse/argparse.hpp&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">int</span> argc<span class="op">,</span> <span class="dt">char</span> <span class="op">*</span>argv<span class="op">[])</span> <span class="op">{</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;program_name&quot;</span><span class="op">);</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;square&quot;</span><span class="op">)</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;display the square of a given integer&quot;</span><span class="op">)</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;i&#39;</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;();</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">try</span> <span class="op">{</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">auto</span> input <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span><span class="st">&quot;square&quot;</span><span class="op">);</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> <span class="op">(</span>input <span class="op">*</span> input<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>And running the code:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main 15</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">225</span></span></code></pre></div>
<p>Here’s what’s happening:</p>
<ul>
<li>The <code>add_argument()</code> method is used to specify which command-line options the program is willing to accept. In this case, I’ve named it square so that it’s in line with its function.</li>
<li>Command-line arguments are strings. To square the argument and print the result, we need to convert this argument to a number. In order to do this, we use the <code>.scan</code> method to convert user input into an integer.</li>
<li>We can get the value stored by the parser for a given argument using <code>parser.get&lt;T&gt;(key)</code> method.</li>
</ul>
<h3 id="optional-arguments">Optional Arguments</h3>
<p>Now, let’s look at <strong><em>optional arguments</em></strong>. Optional arguments start with <code>-</code> or <code>--</code>, e.g., <code>--verbose</code> or <code>-a</code>. Optional arguments can be placed anywhere in the input sequence.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;test&quot;</span><span class="op">);</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;--verbose&quot;</span><span class="op">)</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;increase output verbosity&quot;</span><span class="op">)</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>implicit_value<span class="op">(</span><span class="kw">true</span><span class="op">);</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>program<span class="op">[</span><span class="st">&quot;--verbose&quot;</span><span class="op">]</span> <span class="op">==</span> <span class="kw">true</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> <span class="st">&quot;Verbosity enabled&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main <span class="at">--verbose</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Verbosity</span> enabled</span></code></pre></div>
<p>Here’s what’s happening: * The program is written so as to display something when –verbose is specified and display nothing when not. * Since the argument is actually optional, no error is thrown when running the program without <code>--verbose</code>. Note that by using <code>.default_value(false)</code>, if the optional argument isn’t used, it’s value is automatically set to false. * By using <code>.implicit_value(true)</code>, the user specifies that this option is more of a flag than something that requires a value. When the user provides the –verbose option, it’s value is set to true.</p>
<h4 id="requiring-optional-arguments">Requiring optional arguments</h4>
<p>There are scenarios where you would like to make an optional argument <strong><em>required</em></strong>. As discussed above, optional arguments either begin with <code>-</code> or <code>--</code>. You can make these types of arguments required like so:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-o&quot;</span><span class="op">,</span> <span class="st">&quot;--output&quot;</span><span class="op">)</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>required<span class="op">()</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;specify the output file.&quot;</span><span class="op">);</span></span></code></pre></div>
<p>If the user does not provide a value for this parameter, an exception is thrown.</p>
<p>Alternatively, you could provide a default value like so:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-o&quot;</span><span class="op">,</span> <span class="st">&quot;--output&quot;</span><span class="op">)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="bu">std::</span>string<span class="op">(</span><span class="st">&quot;-&quot;</span><span class="op">))</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>required<span class="op">()</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;specify the output file.&quot;</span><span class="op">);</span></span></code></pre></div>
<h4 id="accessing-optional-arguments-without-default-values">Accessing optional arguments without default values</h4>
<p>If you require an optional argument to be present but have no good default value for it, you can combine testing and accessing the argument as following:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span><span class="kw">auto</span> fn <span class="op">=</span> program<span class="op">.</span>present<span class="op">(</span><span class="st">&quot;-o&quot;</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    do_something_with<span class="op">(*</span>fn<span class="op">);</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Similar to <code>get</code>, the <code>present</code> method also accepts a template argument. But rather than returning <code>T</code>, <code>parser.present&lt;T&gt;(key)</code> returns <code>std::optional&lt;T&gt;</code>, so that when the user does not provide a value to this parameter, the return value compares equal to <code>std::nullopt</code>.</p>
<h4 id="deciding-if-the-value-was-given-by-the-user">Deciding if the value was given by the user</h4>
<p>If you want to know whether the user supplied a value for an argument that has a <code>.default_value</code>, check whether the argument <code>.is_used()</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;--color&quot;</span><span class="op">)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="st">&quot;orange&quot;</span><span class="op">)</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;specify the cat&#39;s fur color&quot;</span><span class="op">);</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span>    <span class="co">// Example: ./main --color orange</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> color <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;(</span><span class="st">&quot;--color&quot;</span><span class="op">);</span>  <span class="co">// &quot;orange&quot;</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> explicit_color <span class="op">=</span> program<span class="op">.</span>is_used<span class="op">(</span><span class="st">&quot;--color&quot;</span><span class="op">);</span>  <span class="co">// true, user provided orange</span></span></code></pre></div>
<h4 id="joining-values-of-repeated-optional-arguments">Joining values of repeated optional arguments</h4>
<p>You may want to allow an optional argument to be repeated and gather all values in one place.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;--color&quot;</span><span class="op">)</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;&gt;({</span> <span class="st">&quot;orange&quot;</span> <span class="op">})</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>append<span class="op">()</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;specify the cat&#39;s fur color&quot;</span><span class="op">);</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span>    <span class="co">// Example: ./main --color red --color green --color blue</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> colors <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;&gt;(</span><span class="st">&quot;--color&quot;</span><span class="op">);</span>  <span class="co">// {&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;}</span></span></code></pre></div>
<p>Notice that <code>.default_value</code> is given an explicit template parameter to match the type you want to <code>.get</code>.</p>
<h4 id="repeating-an-argument-to-increase-a-value">Repeating an argument to increase a value</h4>
<p>A common pattern is to repeat an argument to indicate a greater value.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> verbosity <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-V&quot;</span><span class="op">,</span> <span class="st">&quot;--verbose&quot;</span><span class="op">)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>action<span class="op">([&amp;](</span><span class="at">const</span> <span class="kw">auto</span> <span class="op">&amp;)</span> <span class="op">{</span> <span class="op">++</span>verbosity<span class="op">;</span> <span class="op">})</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>append<span class="op">()</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>implicit_value<span class="op">(</span><span class="kw">true</span><span class="op">)</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>nargs<span class="op">(</span><span class="dv">0</span><span class="op">);</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span>    <span class="co">// Example: ./main -VVVV</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> <span class="st">&quot;verbose level: &quot;</span> <span class="op">&lt;&lt;</span> verbosity <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span>    <span class="co">// verbose level: 4</span></span></code></pre></div>
<h3 id="negative-numbers">Negative Numbers</h3>
<p>Optional arguments start with <code>-</code>. Can <code>argparse</code> handle negative numbers? The answer is yes!</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;integer&quot;</span><span class="op">)</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;Input number&quot;</span><span class="op">)</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;i&#39;</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;();</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;floats&quot;</span><span class="op">)</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;Vector of floats&quot;</span><span class="op">)</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>nargs<span class="op">(</span><span class="dv">4</span><span class="op">)</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;g&#39;</span><span class="op">,</span> <span class="dt">float</span><span class="op">&gt;();</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="co">// Some code to print arguments</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main <span class="at">-5</span> <span class="at">-1.1</span> <span class="at">-3.1415</span> <span class="at">-3.1e2</span> <span class="at">-4.51329E3</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">integer</span> : <span class="at">-5</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ex">floats</span>  : <span class="at">-1.1</span> <span class="at">-3.1415</span> <span class="at">-310</span> <span class="at">-4513.29</span></span></code></pre></div>
<p>As you can see here, <code>argparse</code> supports negative integers, negative floats and scientific notation.</p>
<h3 id="combining-positional-and-optional-arguments">Combining Positional and Optional Arguments</h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;main&quot;</span><span class="op">);</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;square&quot;</span><span class="op">)</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;display the square of a given number&quot;</span><span class="op">)</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;i&#39;</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;();</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;--verbose&quot;</span><span class="op">)</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>implicit_value<span class="op">(</span><span class="kw">true</span><span class="op">);</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> input <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span><span class="st">&quot;square&quot;</span><span class="op">);</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>program<span class="op">[</span><span class="st">&quot;--verbose&quot;</span><span class="op">]</span> <span class="op">==</span> <span class="kw">true</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> <span class="st">&quot;The square of &quot;</span> <span class="op">&lt;&lt;</span> input <span class="op">&lt;&lt;</span> <span class="st">&quot; is &quot;</span> <span class="op">&lt;&lt;</span> <span class="op">(</span>input <span class="op">*</span> input<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> <span class="op">{</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> <span class="op">(</span>input <span class="op">*</span> input<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main 4</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">16</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main 4 <span class="at">--verbose</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> square of 4 is 16</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main <span class="at">--verbose</span> 4</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> square of 4 is 16</span></code></pre></div>
<h3 id="printing-help">Printing Help</h3>
<p><code>std::cout &lt;&lt; program</code> prints a help message, including the program usage and information about the arguments registered with the <code>ArgumentParser</code>. For the previous example, here’s the default help message:</p>
<pre><code>$ ./main --help
Usage: main [options] square

Positional arguments:
square          display the square of a given number

Optional arguments:
-h --help       shows help message and exits [default: false]
-v --version    prints version information and exits [default: false]
--verbose       [default: false]</code></pre>
<p>You may also get the help message in string via <code>program.help().str()</code>.</p>
<h3 id="list-of-arguments">List of Arguments</h3>
<p>ArgumentParser objects usually associate a single command-line argument with a single action to be taken. The <code>.nargs</code> associates a different number of command-line arguments with a single action. When using <code>nargs(N)</code>, N arguments from the command line will be gathered together into a list.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;main&quot;</span><span class="op">);</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;--input_files&quot;</span><span class="op">)</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;The list of input files&quot;</span><span class="op">)</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>nargs<span class="op">(</span><span class="dv">2</span><span class="op">);</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span>   <span class="co">// Example: ./main --input_files config.yml System.xml</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> files <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;&gt;(</span><span class="st">&quot;--input_files&quot;</span><span class="op">);</span>  <span class="co">// {&quot;config.yml&quot;, &quot;System.xml&quot;}</span></span></code></pre></div>
<p><code>ArgumentParser.get&lt;T&gt;()</code> has specializations for <code>std::vector</code> and <code>std::list</code>. So, the following variant, <code>.get&lt;std::list&gt;</code>, will also work.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> files <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>list<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;&gt;(</span><span class="st">&quot;--input_files&quot;</span><span class="op">);</span>  <span class="co">// {&quot;config.yml&quot;, &quot;System.xml&quot;}</span></span></code></pre></div>
<p>Using <code>.scan</code>, one can quickly build a list of desired value types from command line arguments. Here’s an example:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;main&quot;</span><span class="op">);</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;--query_point&quot;</span><span class="op">)</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;3D query point&quot;</span><span class="op">)</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>nargs<span class="op">(</span><span class="dv">3</span><span class="op">)</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="dt">double</span><span class="op">&gt;{</span><span class="fl">0.0</span><span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> <span class="fl">0.0</span><span class="op">})</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;g&#39;</span><span class="op">,</span> <span class="dt">double</span><span class="op">&gt;();</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span> <span class="co">// Example: ./main --query_point 3.5 4.7 9.2</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> query_point <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="dt">double</span><span class="op">&gt;&gt;(</span><span class="st">&quot;--query_point&quot;</span><span class="op">);</span>  <span class="co">// {3.5, 4.7, 9.2}</span></span></code></pre></div>
<h3 id="compound-arguments">Compound Arguments</h3>
<p>Compound arguments are optional arguments that are combined and provided as a single argument. Example: <code>ps -aux</code></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;test&quot;</span><span class="op">);</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-a&quot;</span><span class="op">)</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>implicit_value<span class="op">(</span><span class="kw">true</span><span class="op">);</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-b&quot;</span><span class="op">)</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>implicit_value<span class="op">(</span><span class="kw">true</span><span class="op">);</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-c&quot;</span><span class="op">)</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>nargs<span class="op">(</span><span class="dv">2</span><span class="op">)</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="dt">float</span><span class="op">&gt;{</span><span class="fl">0.0</span><span class="bu">f</span><span class="op">,</span> <span class="fl">0.0</span><span class="bu">f</span><span class="op">})</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;g&#39;</span><span class="op">,</span> <span class="dt">float</span><span class="op">&gt;();</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span>                  <span class="co">// Example: ./main -abc 1.95 2.47</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> a <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="dt">bool</span><span class="op">&gt;(</span><span class="st">&quot;-a&quot;</span><span class="op">);</span>                  <span class="co">// true</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> b <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="dt">bool</span><span class="op">&gt;(</span><span class="st">&quot;-b&quot;</span><span class="op">);</span>                  <span class="co">// true</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> c <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="dt">float</span><span class="op">&gt;&gt;(</span><span class="st">&quot;-c&quot;</span><span class="op">);</span>    <span class="co">// {1.95, 2.47}</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a><span class="co">/// Some code that prints parsed arguments</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main <span class="at">-ac</span> 3.14 2.718</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="ex">a</span> = true</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="ex">b</span> = false</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="ex">c</span> = {3.14, 2.718}</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main <span class="at">-cb</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="ex">a</span> = false</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="ex">b</span> = true</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="ex">c</span> = {0.0, 0.0}</span></code></pre></div>
<p>Here’s what’s happening: * We have three optional arguments <code>-a</code>, <code>-b</code> and <code>-c</code>. * <code>-a</code> and <code>-b</code> are toggle arguments. * <code>-c</code> requires 2 floating point numbers from the command-line. * argparse can handle compound arguments, e.g., <code>-abc</code> or <code>-bac</code> or <code>-cab</code>. This only works with short single-character argument names. - <code>-a</code> and <code>-b</code> become true. - argv is further parsed to identify the inputs mapped to <code>-c</code>. - If argparse cannot find any arguments to map to c, then c defaults to {0.0, 0.0} as defined by <code>.default_value</code></p>
<h3 id="converting-to-numeric-types">Converting to Numeric Types</h3>
<p>For inputs, users can express a primitive type for the value.</p>
<p>The <code>.scan&lt;Shape, T&gt;</code> method attempts to convert the incoming <code>std::string</code> to <code>T</code> following the <code>Shape</code> conversion specifier. An <code>std::invalid_argument</code> or <code>std::range_error</code> exception is thrown for errors.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-x&quot;</span><span class="op">)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>       <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;d&#39;</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;();</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;scale&quot;</span><span class="op">)</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>       <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;g&#39;</span><span class="op">,</span> <span class="dt">double</span><span class="op">&gt;();</span></span></code></pre></div>
<p><code>Shape</code> specifies what the input “looks like”, and the type template argument specifies the return value of the predefined action. Acceptable types are floating point (i.e float, double, long double) and integral (i.e. signed char, short, int, long, long long).</p>
<p>The grammar follows <code>std::from_chars</code>, but does not exactly duplicate it. For example, hexadecimal numbers may begin with <code>0x</code> or <code>0X</code> and numbers with a leading zero may be handled as octal values.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Shape</th>
<th>interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">‘a’ or ‘A’</td>
<td>hexadecimal floating point</td>
</tr>
<tr class="even">
<td style="text-align: center;">‘e’ or ‘E’</td>
<td>scientific notation (floating point)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">‘f’ or ‘F’</td>
<td>fixed notation (floating point)</td>
</tr>
<tr class="even">
<td style="text-align: center;">‘g’ or ‘G’</td>
<td>general form (either fixed or scientific)</td>
</tr>
<tr class="odd">
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">‘d’</td>
<td>decimal</td>
</tr>
<tr class="odd">
<td style="text-align: center;">‘i’</td>
<td><code>std::from_chars</code> grammar with base == 0</td>
</tr>
<tr class="even">
<td style="text-align: center;">‘o’</td>
<td>octal (unsigned)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">‘u’</td>
<td>decimal (unsigned)</td>
</tr>
<tr class="even">
<td style="text-align: center;">‘x’ or ‘X’</td>
<td>hexadecimal (unsigned)</td>
</tr>
</tbody>
</table>
<h3 id="default-arguments">Default Arguments</h3>
<p><code>argparse</code> provides predefined arguments and actions for <code>-h</code>/<code>--help</code> and <code>-v</code>/<code>--version</code>. These default actions exit the program after displaying a help or version message, respectively. These defaults arguments can be disabled during <code>ArgumentParser</code> creation so that you can handle these arguments in your own way. (Note that a program name and version must be included when choosing default arguments.)</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;test&quot;</span><span class="op">,</span> <span class="st">&quot;1.0&quot;</span><span class="op">,</span> default_arguments<span class="op">::</span>none<span class="op">);</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-h&quot;</span><span class="op">,</span> <span class="st">&quot;--help&quot;</span><span class="op">)</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>action<span class="op">([=](</span><span class="at">const</span> <span class="bu">std::</span>string<span class="op">&amp;</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> help<span class="op">().</span>str<span class="op">();</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">})</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>help<span class="op">(</span><span class="st">&quot;shows help message&quot;</span><span class="op">)</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>implicit_value<span class="op">(</span><span class="kw">true</span><span class="op">)</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>nargs<span class="op">(</span><span class="dv">0</span><span class="op">);</span></span></code></pre></div>
<p>The above code snippet outputs a help message and continues to run. It does not support a <code>--version</code> argument.</p>
<p>The default is <code>default_arguments::all</code> for included arguments. No default arguments will be added with <code>default_arguments::none</code>. <code>default_arguments::help</code> and <code>default_arguments::version</code> will individually add <code>--help</code> and <code>--version</code>.</p>
<h3 id="gathering-remaining-arguments">Gathering Remaining Arguments</h3>
<p><code>argparse</code> supports gathering “remaining” arguments at the end of the command, e.g., for use in a compiler:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> compiler file1 file2 file3</span></code></pre></div>
<p>To enable this, simply create an argument and mark it as <code>remaining</code>. All remaining arguments passed to argparse are gathered here.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;compiler&quot;</span><span class="op">);</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;files&quot;</span><span class="op">)</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>remaining<span class="op">();</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">auto</span> files <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;&gt;(</span><span class="st">&quot;files&quot;</span><span class="op">);</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> files<span class="op">.</span>size<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="st">&quot; files provided&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> <span class="op">(</span><span class="kw">auto</span><span class="op">&amp;</span> file <span class="op">:</span> files<span class="op">)</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> file <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> <span class="cf">catch</span> <span class="op">(</span><span class="bu">std::</span>logic_error<span class="op">&amp;</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> <span class="st">&quot;No files provided&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>When no arguments are provided:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./compiler</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="ex">No</span> files provided</span></code></pre></div>
<p>and when multiple arguments are provided:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./compiler foo.txt bar.txt baz.txt</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span> files provided</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="ex">foo.txt</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="ex">bar.txt</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="ex">baz.txt</span></span></code></pre></div>
<p>The process of gathering remaining arguments plays nicely with optional arguments too:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;compiler&quot;</span><span class="op">);</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_arguments<span class="op">(</span><span class="st">&quot;-o&quot;</span><span class="op">)</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="bu">std::</span>string<span class="op">(</span><span class="st">&quot;a.out&quot;</span><span class="op">));</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;files&quot;</span><span class="op">)</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>remaining<span class="op">();</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> output_filename <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;(</span><span class="st">&quot;-o&quot;</span><span class="op">);</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> <span class="st">&quot;Output filename: &quot;</span> <span class="op">&lt;&lt;</span> output_filename <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">auto</span> files <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;&gt;(</span><span class="st">&quot;files&quot;</span><span class="op">);</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> files<span class="op">.</span>size<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="st">&quot; files provided&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> <span class="op">(</span><span class="kw">auto</span><span class="op">&amp;</span> file <span class="op">:</span> files<span class="op">)</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> file <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> <span class="cf">catch</span> <span class="op">(</span><span class="bu">std::</span>logic_error<span class="op">&amp;</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> <span class="st">&quot;No files provided&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./compiler <span class="at">-o</span> main foo.cpp bar.cpp baz.cpp</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Output</span> filename: main</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span> files provided</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="ex">foo.cpp</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="ex">bar.cpp</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="ex">baz.cpp</span></span></code></pre></div>
<p><strong><em>NOTE</em></strong>: Remember to place all optional arguments BEFORE the remaining argument. If the optional argument is placed after the remaining arguments, it too will be deemed remaining:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./compiler foo.cpp bar.cpp baz.cpp <span class="at">-o</span> main</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="ex">5</span> arguments provided</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="ex">foo.cpp</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="ex">bar.cpp</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="ex">baz.cpp</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="ex">-o</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="ex">main</span></span></code></pre></div>
<h3 id="parent-parsers">Parent Parsers</h3>
<p>Sometimes, several parsers share a common set of arguments. Rather than repeating the definitions of these arguments, a single parser with all the common arguments can be added as a parent to another ArgumentParser instance. The <code>.add_parents</code> method takes a list of ArgumentParser objects, collects all the positional and optional actions from them, and adds these actions to the ArgumentParser object being constructed:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser parent_parser<span class="op">(</span><span class="st">&quot;main&quot;</span><span class="op">);</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>parent_parser<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;--parent&quot;</span><span class="op">)</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="dv">0</span><span class="op">)</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;i&#39;</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;();</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser foo_parser<span class="op">(</span><span class="st">&quot;foo&quot;</span><span class="op">);</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>foo_parser<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;foo&quot;</span><span class="op">);</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>foo_parser<span class="op">.</span>add_parents<span class="op">(</span>parent_parser<span class="op">);</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>foo_parser<span class="op">.</span>parse_args<span class="op">({</span> <span class="st">&quot;./main&quot;</span><span class="op">,</span> <span class="st">&quot;--parent&quot;</span><span class="op">,</span> <span class="st">&quot;2&quot;</span><span class="op">,</span> <span class="st">&quot;XXX&quot;</span> <span class="op">});</span>   <span class="co">// parent = 2, foo = XXX</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser bar_parser<span class="op">(</span><span class="st">&quot;bar&quot;</span><span class="op">);</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>bar_parser<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;--bar&quot;</span><span class="op">);</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>bar_parser<span class="op">.</span>parse_args<span class="op">({</span> <span class="st">&quot;./main&quot;</span><span class="op">,</span> <span class="st">&quot;--bar&quot;</span><span class="op">,</span> <span class="st">&quot;YYY&quot;</span> <span class="op">});</span>           <span class="co">// bar = YYY</span></span></code></pre></div>
<p>Note You must fully initialize the parsers before passing them via <code>.add_parents</code>. If you change the parent parsers after the child parser, those changes will not be reflected in the child.</p>
<h2 id="further-examples">Further Examples</h2>
<h3 id="construct-a-json-object-from-a-filename-argument">Construct a JSON object from a filename argument</h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;json_test&quot;</span><span class="op">);</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;config&quot;</span><span class="op">)</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>action<span class="op">([](</span><span class="at">const</span> <span class="bu">std::</span>string<span class="op">&amp;</span> value<span class="op">)</span> <span class="op">{</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// read a JSON file</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>ifstream<span class="op"> </span>stream<span class="op">(</span>value<span class="op">);</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    nlohmann<span class="op">::</span>json config_json<span class="op">;</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    stream <span class="op">&gt;&gt;</span> config_json<span class="op">;</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> config_json<span class="op">;</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">});</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">({</span><span class="st">&quot;./test&quot;</span><span class="op">,</span> <span class="st">&quot;config.json&quot;</span><span class="op">});</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>nlohmann<span class="op">::</span>json config <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span>nlohmann<span class="op">::</span>json<span class="op">&gt;(</span><span class="st">&quot;config&quot;</span><span class="op">);</span></span></code></pre></div>
<h3 id="positional-arguments-with-compound-toggle-arguments">Positional Arguments with Compound Toggle Arguments</h3>
<div class="sourceCode" id="cb35"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;test&quot;</span><span class="op">);</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;numbers&quot;</span><span class="op">)</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>nargs<span class="op">(</span><span class="dv">3</span><span class="op">)</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;i&#39;</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;();</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-a&quot;</span><span class="op">)</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>implicit_value<span class="op">(</span><span class="kw">true</span><span class="op">);</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-b&quot;</span><span class="op">)</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>implicit_value<span class="op">(</span><span class="kw">true</span><span class="op">);</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;-c&quot;</span><span class="op">)</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>nargs<span class="op">(</span><span class="dv">2</span><span class="op">)</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>scan<span class="op">&lt;</span><span class="ch">&#39;g&#39;</span><span class="op">,</span> <span class="dt">float</span><span class="op">&gt;();</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;--files&quot;</span><span class="op">)</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>nargs<span class="op">(</span><span class="dv">3</span><span class="op">);</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> numbers <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&gt;(</span><span class="st">&quot;numbers&quot;</span><span class="op">);</span>        <span class="co">// {1, 2, 3}</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> a <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="dt">bool</span><span class="op">&gt;(</span><span class="st">&quot;-a&quot;</span><span class="op">);</span>                               <span class="co">// true</span></span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> b <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="dt">bool</span><span class="op">&gt;(</span><span class="st">&quot;-b&quot;</span><span class="op">);</span>                               <span class="co">// true</span></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> c <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="dt">float</span><span class="op">&gt;&gt;(</span><span class="st">&quot;-c&quot;</span><span class="op">);</span>                 <span class="co">// {3.14f, 2.718f}</span></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> files <span class="op">=</span> program<span class="op">.</span>get<span class="op">&lt;</span><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;&gt;(</span><span class="st">&quot;--files&quot;</span><span class="op">);</span>  <span class="co">// {&quot;a.txt&quot;, &quot;b.txt&quot;, &quot;c.txt&quot;}</span></span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a><span class="co">/// Some code that prints parsed arguments</span></span></code></pre></div>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main 1 2 3 <span class="at">-abc</span> 3.14 2.718 <span class="at">--files</span> a.txt b.txt c.txt</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="ex">numbers</span> = {1, 2, 3}</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="ex">a</span> = true</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="ex">b</span> = true</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="ex">c</span> = {3.14, 2.718}</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="ex">files</span> = {<span class="st">&quot;a.txt&quot;</span>, <span class="st">&quot;b.txt&quot;</span>, <span class="st">&quot;c.txt&quot;</span>}</span></code></pre></div>
<h3 id="restricting-the-set-of-values-for-an-argument">Restricting the set of values for an argument</h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>argparse<span class="op">::</span>ArgumentParser program<span class="op">(</span><span class="st">&quot;test&quot;</span><span class="op">);</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>program<span class="op">.</span>add_argument<span class="op">(</span><span class="st">&quot;input&quot;</span><span class="op">)</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>default_value<span class="op">(</span><span class="st">&quot;baz&quot;</span><span class="op">)</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span>action<span class="op">([](</span><span class="at">const</span> <span class="bu">std::</span>string<span class="op">&amp;</span> value<span class="op">)</span> <span class="op">{</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">static</span> <span class="at">const</span> <span class="bu">std::</span>vector<span class="op">&lt;</span><span class="bu">std::</span>string<span class="op">&gt;</span> choices <span class="op">=</span> <span class="op">{</span> <span class="st">&quot;foo&quot;</span><span class="op">,</span> <span class="st">&quot;bar&quot;</span><span class="op">,</span> <span class="st">&quot;baz&quot;</span> <span class="op">};</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span><span class="bu">std::</span>find<span class="op">(</span>choices<span class="op">.</span>begin<span class="op">(),</span> choices<span class="op">.</span>end<span class="op">(),</span> value<span class="op">)</span> <span class="op">!=</span> choices<span class="op">.</span>end<span class="op">())</span> <span class="op">{</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> value<span class="op">;</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">std::</span>string<span class="op">{</span> <span class="st">&quot;baz&quot;</span> <span class="op">};</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">});</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> <span class="op">{</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  program<span class="op">.</span>parse_args<span class="op">(</span>argc<span class="op">,</span> argv<span class="op">);</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="cf">catch</span> <span class="op">(</span><span class="at">const</span> <span class="bu">std::</span>runtime_error<span class="op">&amp;</span> err<span class="op">)</span> <span class="op">{</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> err<span class="op">.</span>what<span class="op">()</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>cerr<span class="op"> &lt;&lt;</span> program<span class="op">;</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>exit<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> input <span class="op">=</span> program<span class="op">.</span>get<span class="op">(</span><span class="st">&quot;input&quot;</span><span class="op">);</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> input <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./main fex</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="ex">baz</span></span></code></pre></div>
<h2 id="supported-toolchains">Supported Toolchains</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Compiler</th>
<th style="text-align: left;">Standard Library</th>
<th style="text-align: left;">Test Environment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">GCC &gt;= 8.3.0</td>
<td style="text-align: left;">libstdc++</td>
<td style="text-align: left;">Ubuntu 18.04</td>
</tr>
<tr class="even">
<td style="text-align: left;">Clang &gt;= 7.0.0</td>
<td style="text-align: left;">libc++</td>
<td style="text-align: left;">Xcode 10.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MSVC &gt;= 14.16</td>
<td style="text-align: left;">Microsoft STL</td>
<td style="text-align: left;">Visual Studio 2017</td>
</tr>
</tbody>
</table>
<h2 id="contributing">Contributing</h2>
<p>Contributions are welcome, have a look at the <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> document for more information.</p>
<h2 id="contributors">Contributors ✨</h2>
<p>Thanks goes to these wonderful people:</p>
<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
<!-- prettier-ignore -->
<table>
<tr>
<td align="center">
<a href="https://github.com/svanveen"><img src="https://avatars1.githubusercontent.com/u/23560108?s=400&v=4" width="100px;" alt="svanveen"/><br /><sub><b>svanveen</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/lichray"><img src="https://avatars0.githubusercontent.com/u/433009?s=400&v=4" width="100px;" alt="Zhihao Yuan"/><br /><sub><b>Zhihao Yuan</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/wtdcode"><img src="https://avatars2.githubusercontent.com/u/30623163?s=400&v=4" width="100px;" alt="Mio"/><br /><sub><b>Mio</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/zhihaoy"><img src="https://avatars0.githubusercontent.com/u/43971430?s=400&v=4" width="100px;" alt="zhihaoy"/><br /><sub><b>zhihaoy</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/Jackojc"><img src="https://avatars1.githubusercontent.com/u/4932816?s=400&v=4" width="100px;" alt="Jack Clarke"/><br /><sub><b>Jack Clarke</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/SuperWig"><img src="https://avatars2.githubusercontent.com/u/2692096?s=400&v=4" width="100px;" alt="Daniel Marshall"/><br /><sub><b>Daniel Marshall</b></sub></a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://github.com/MU001999"><img src="https://avatars3.githubusercontent.com/u/21022101?s=400&v=4" width="100px;" alt="mupp"/><br /><sub><b>mupp</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/CrustyAuklet"><img src="https://avatars2.githubusercontent.com/u/9755578?s=400&v=4" width="100px;" alt="Ethan Slattery"/><br /><sub><b>Ethan Slattery</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/skrobinson"><img src="https://avatars.githubusercontent.com/u/49722376?v=4" width="100px;" alt="skrobinson"/><br /><sub><b>skrobinson</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/cekc"><img src="https://avatars.githubusercontent.com/u/31835620?v=4" width="100px;" alt="Mike Zozu"/><br /><sub><b>Mike Zozu</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/Chuvi-w"><img src="https://avatars.githubusercontent.com/u/3652659?v=4" width="100px;" alt="Chuvi-w"/><br /><sub><b>Chuvi-w</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/KOLANICH"><img src="https://avatars.githubusercontent.com/u/240344?v=4" width="100px;" alt="KOLANICH"/><br /><sub><b>KOLANICH</b></sub></a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://github.com/Bedzior"><img src="https://avatars.githubusercontent.com/u/19894088?v=4" width="100px;" alt="Rafał Będźkowski"/><br /><sub><b>Rafał Będźkowski</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/hokacci"><img src="https://avatars.githubusercontent.com/u/47231909?v=4" width="100px;" alt="Yoshihiro Hokazono"/><br /><sub><b>Yoshihiro Hokazono</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/qoelet"><img src="https://avatars.githubusercontent.com/u/115877?v=4" width="100px;" alt="Kenny Shen"/><br /><sub><b>Kenny Shen</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/MU001999"><img src="https://avatars.githubusercontent.com/u/21022101?v=4" width="100px;" alt="The 42nd Mu00"/><br /><sub><b>The 42nd Mu00</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/Ubpa"><img src="https://avatars.githubusercontent.com/u/15104079?v=4" width="100px;" alt="Ubpa"/><br /><sub><b>Ubpa</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/kfsone"><img src="https://avatars.githubusercontent.com/u/323009?v=4" width="100px;" alt="Oliver Smith"/><br /><sub><b>Oliver Smith</b></sub></a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://github.com/JadeMatrix"><img src="https://avatars.githubusercontent.com/u/1753533?v=4" width="100px;" alt="Joseph Durel"/><br /><sub><b>Joseph Durel</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/rysson"><img src="https://avatars.githubusercontent.com/u/5898312?v=4" width="100px;" alt="rysson"/><br /><sub><b>rysson</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/aashwinr"><img src="https://avatars.githubusercontent.com/u/78666414?v=4" width="100px;" alt="aashwinr"/><br /><sub><b>aashwinr</b></sub></a>
</td>
<td align="center">
<a href="https://github.com/bufferbase"><img src="https://avatars.githubusercontent.com/u/65209648?v=4" width="100px;" alt="bufferbase"/><br /><sub><b>bufferbase</b></sub></a>
</td>
</tr>
</table>
<!-- ALL-CONTRIBUTORS-LIST:END -->
<h2 id="license">License</h2>
<p>The project is available under the <a href="https://opensource.org/licenses/MIT">MIT</a> license.</p>
