<h1 id="leptonica-library">Leptonica Library</h1>
<p><a
href="https://github.com/DanBloomberg/leptonica/actions/workflows/sw.yml"><img
src="https://github.com/DanBloomberg/leptonica/actions/workflows/sw.yml/badge.svg"
alt="sw" /></a></p>
<p>www.leptonica.org</p>
<h2 id="the-library-supports-many-operations-that-are-useful-on">The
library supports many operations that are useful on</h2>
<ul>
<li>Document images</li>
<li>Natural images</li>
</ul>
<h2
id="fundamental-image-processing-and-image-analysis-operations">Fundamental
image processing and image analysis operations</h2>
<ul>
<li>Rasterop (aka bitblt)</li>
<li>Affine transforms (scaling, translation, rotation, shear) on images
of arbitrary pixel depth</li>
<li>Projective and bilinear transforms</li>
<li>Binary and grayscale morphology, rank order filters, and
convolution</li>
<li>Seedfill and connected components</li>
<li>Image transformations with changes in pixel depth, both at the same
scale and with scale change</li>
<li>Pixelwise masking, blending, enhancement, arithmetic ops, etc.</li>
</ul>
<h2 id="ancillary-utilities">Ancillary utilities</h2>
<ul>
<li>I/O for standard image formats (<em>jpg</em>, <em>png</em>,
<em>tiff</em>, <em>webp</em>, <em>jp2</em>, <em>bmp</em>, <em>pnm</em>,
<em>gif</em>, <em>ps</em>, <em>pdf</em>)</li>
<li>Utilities to handle arrays of image-related data types (e.g.,
<em>pixa</em>, <em>boxa</em>, <em>pta</em>)</li>
<li>Utilities for stacks, generic arrays, queues, heaps, lists, sets,
ordered maps, hashmaps; number and string arrays; etc.</li>
</ul>
<h2 id="examples-of-some-applications-enabled-and-implemented">Examples
of some applications enabled and implemented</h2>
<ul>
<li>Octcube-based color quantization (w/ and w/out dithering)</li>
<li>Modified median cut color quantization (w/ and w/out dithering)</li>
<li>Determination of skew and orientation of text images</li>
<li>Adaptive background normalization and binarization</li>
<li>Segmentation of page images with mixed text and images</li>
<li>Color segmentation by clustering and seed-filling</li>
<li>Location of baselines and local skew determination</li>
<li>jbig2 unsupervised classifier</li>
<li>Border representations of 1 bpp images and raster conversion for
SVG</li>
<li>Postscript generation (levels 1, 2 and 3) of images for
device-independent output</li>
<li>PDF generation (G4, DCT, FLATE) of images for device-independent
output</li>
<li>Connectivity-preserving thinning and thickening of 1 bpp images</li>
<li>Image warping (captcha, stereoscopic)</li>
<li>Image dewarping based on content (textlines)</li>
<li>Watershed transform</li>
<li>Greedy splitting of components into rectangles</li>
<li>Location of largest fg or bg rectangles in 1 bpp images</li>
<li>Search for least-cost paths on binary and grayscale images</li>
<li>Barcode reader for 1D barcodes (very early version as of 1.55)</li>
</ul>
<h2 id="implementation-characteristics">Implementation
characteristics</h2>
<ul>
<li><em>Efficient</em>: image data is packed binary (into 32-bit words);
operations on 32-bit data whenever possible</li>
<li><em>Simple</em>: small number of data structures; simplest
implementations provided that are efficient</li>
<li><em>Consistent</em>: data allocated on the heap with simple
ownership rules; function names usually begin with primary data
structure (e.g., <em>pix</em>); simple code patterns throughout</li>
<li><em>Robust</em>: all ptr args checked; extensive use of accessors;
exit not permitted</li>
<li><em>Tested</em>: over 140 regression tests provided for basic
functions and applications; valgrind tested</li>
<li><em>ANSI C</em>: automatically generated prototype header file</li>
<li><em>Portable</em>: endian-independent; builds in Linux, macOS,
MinGW, Cygwin, Windows</li>
<li><em>Thread-safe</em>: uses atomic operations for reference
counting</li>
<li><em>Documentation</em>: large number of in-line comments; doxygen;
web pages for further background</li>
<li><em>Examples</em>: many programs provided to test and show usage of
over 2700 functions in the library</li>
</ul>
<h2 id="open-source-projects-that-use-leptonica">Open Source Projects
that use Leptonica</h2>
<ul>
<li><a href="https://github.com/tesseract-ocr/tesseract/">tesseract</a>
(optical character recognition)</li>
<li><a href="https://github.com/opencv/opencv">OpenCV</a> (computer
vision library)</li>
<li><a href="https://github.com/agl/jbig2enc">jbig2enc</a> (encodes
multipage binary image documents with jbig2 compression)</li>
</ul>
<h2 id="major-contributors-to-leptonica">Major contributors to
Leptonica</h2>
<ul>
<li>Jeff Breidenbach: Jeff has built every Debian distribution for
Leptonica. He has also made many improvements to formatted image I/O,
including tiff, png and pdf. He is a continuous and practical advocate
for simplification.</li>
<li>David Bryan: David has worked for years to support Leptonica on
multiple platforms. He designed many nice features in Leptonica, such as
the severity-based error messaging system, and has identified and fixed
countless bugs. And he has built and tested many distribution on
cross-compilers.</li>
<li>James Le Cuirot: James has written and supported the autotools
scripts on Leptonica distributions for many years, and has helped test
many recent distributions.</li>
<li>Egor Pugin: Egor is co-maintainer of Leptonica on GitHub. He ported
everything, including all the old distributions, from Google Code when
it shut down. He set Leptonica up for appveyor and travis testing, and
has implemented the sw project, which simplifies building executables on
Windows.</li>
<li>Stefan Weil: Stefan is a co-maintainer of Leptonica on GitHub. He
has worked from the beginning to clean up the Leptonica GitHub
distribution, including removing errors in the source code. Among other
things: he suggested and implemented the use of Coverity Scan; made the
library thread-safe by implementing atomic operations for reference
counting; and helped remove internal struct data from the public
interface.</li>
<li>Zdenko Podobny: Zdenko is a co-maintainer of Leptonica on GitHub. He
has worked, mostly behind the scenes as a primary maintainer of
tesseract, to help with Leptonica builds on all platforms, and
coordinate with its use in tesseract.</li>
<li>Jürgen Buchmüller: Jürgen wrote text converters to modify Leptonica
source code so that it generates documentation using doxygen. He also
wrote tiff wrappers for memory I/O.</li>
<li>Adam Korczynski: Adam is an expert in testing libraries for safety.
He has built most of the open source fuzzers for Leptonica in the
oss-fuzz project, with significant code coverage.</li>
<li>Tom Powers: Tom supported the port of Leptonica to Windows for many
years. He made many contributions to code quality and
documentation.</li>
</ul>
<h2 id="installing-leptonica-vcpkg">Installing Leptonica (vcpkg)</h2>
<ul>
<li>You can build and install Leptonica using <a
href="https://github.com/Microsoft/vcpkg/">vcpkg</a> dependency
manager:</li>
</ul>
<p><code>sh or powershell       git clone https://github.com/Microsoft/vcpkg.git       cd vcpkg       ./bootstrap-vcpkg.sh # "./bootstrap-vcpkg.bat" for powershell       ./vcpkg integrate install       ./vcpkg install leptonica</code></p>
<ul>
<li>The Leptonica port in vcpkg is kept up to date by Microsoft team
members and community contributors. If the version is out of date,
please <a href="https://github.com/Microsoft/vcpkg">create an issue or
pull request</a> on the vcpkg repository.</li>
</ul>
