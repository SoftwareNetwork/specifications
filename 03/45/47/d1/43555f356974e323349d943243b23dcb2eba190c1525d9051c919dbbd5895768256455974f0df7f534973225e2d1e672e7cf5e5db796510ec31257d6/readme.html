<p id="section"></p>
<h1 id="section-1"></h1>
<h1 id="section-2">__________ ____ ___</h1>
<h1 id="section-3">_____ __ <em>_</em>____ _____ _______ ______ __________  / /</h1>
<h1 id="y-y-_">/ | |   <strong><em>/_</em> \_ </strong> / <em><strong>// </strong> _ <strong>   / # # | Y Y   | / | / </strong> | | /_<strong> \ </strong></em>/| | /  </h1>
<h1 id="copyright-c-2016-ingo-berg-web-httpbeltoforion.dearticle.phpamuparserx-github-httphttpsgithub.combeltoforionmuparserx-e-mail-muparserxbeltoforion.de-the-code-contains-contributions-made-by-the-following-people-martin-rotter-httpsgithub.commartinrotter-josh-blum-httpsgithub.comguruofquality-and-others-this-software-is-distributed-under-the-terms-of-the-bsd---clause-2-simplified-or-freebsd-licence-bsd-2-clause">|<strong>|<em>| /</em></strong><em>/|</em><strong><em>| (</em></strong>_ /<strong>| /</strong>__ &gt;___ &gt;<strong>| /</strong>_/    # # / / / / _/ # # # # Copyright (C) 2016, Ingo Berg # # # # Web: http://beltoforion.de/article.php?a=muparserx # # GitHub: http://https://github.com/beltoforion/muparserx # # e-mail: muparserx@beltoforion.de # # # # The code contains contributions made by the following people: # # Martin Rotter (https://github.com/martinrotter) # # Josh Blum (https://github.com/guruofquality) # # and others # # # # This software is distributed under the terms of the # # BSD - Clause 2 &quot;Simplified&quot; or &quot;FreeBSD&quot; Licence (BSD-2-Clause) # # # #########################################################################</h1>
<p id="section-4"></p>
<h1 id="section-5"></h1>
<h1 id="version-history">Version history</h1>
<h1 id="section-6"></h1>
<p id="section-7"></p>
<h2 id="v4.0.7-20160331">V4.0.7 (20160331)</h2>
<p>Bugfixes: - Issue 68: Assertion fails (i.e &quot;abs(-3)&gt;abs(2)&quot;) - untracked issue: cbrt function did not work properly - new functions: atan2, reminder, fmod</p>
<h2 id="v4.0.5-20151120">V4.0.5 (20151120)</h2>
<p>Changes: - New Noncomplex Functions: cbrt - Cubic root hypot - Length of a 2d vector pow - Power function - New complex functions: pow - Power function - Value construction and assignment from int is supported again (removed when going from in 3.x to 4.x).</p>
<h2 id="v4.0.4-20151015">V4.0.4 (20151015)</h2>
<p>Bugfixes: - Issue 59, 60, 61, 63: Various segfaults/assertions for unexpected input<br />
- Issue 55, 56, 57, 58: Various issued related to a failure to detect missing brackets.</p>
<h2 id="v4.0.0-20150622">V4.0.0 (20150622)</h2>
<p>API changes: - removed value and variable constructors from integer types. There was some confusion about the extend of support for integers (see Issue #36). Internally muparserx is always using floating point values even when dealing with integer numbers. There is no point in the API pretending to have real integer support.</p>
<h2 id="v3.0.2-20140531">V3.0.2 (20140531)</h2>
<p>Syntax rule changes: - Semicolon removed as term separator (was not meant to be in the release) - postfix operator identifiers are searched only at locations that could contain such an operator. (This will prevent conflicts with variable names.)</p>
<p>Bugfixes: - untracked issue: Identifiers of uninitialized variables could be lost in error messages. - Issue 33: Value::operator+= and Value::operator-= do not work properly when used with complex values.</p>
<h2 id="v3.0.1-20140527">V3.0.1 (20140527)</h2>
<p>Bugfixes: - untracked issue: Index operator did not work properly when applied to non variable types. The bug only occured when used together with an assignment operator.</p>
<h2 id="v3.0.0-20140525">V3.0.0 (20140525)</h2>
<p>Warning: The library requires a C++11 compliant compiler!</p>
<p>Syntax rule changes: - Curly brackets removed from unit postfix operator identifiers. (I need them for on the fly array construction) - in place array construction like: {1,2,3} to create a row vector - Comma can no longer be used to separate terms in an expression. - '#' added for comments</p>
<p>API Changes: - C++11 features introduced in the code - Functions defining variables, constants, operators or functions will now throw an exception if a a token with a similar identifier already exists. Their API changed to take a managed pointer instead of a raw pointer. - Hooks for customizing error messages added; German translations added - Functions for undefining variables, constants, functions and operators added. - Functions for querying the presence of variables, constants, functions and operators added.</p>
<p>Changes: - added &quot;zeros&quot; function for creating matrices initialized to all zero added - added &quot;eye&quot; function for creating an idendity matrices - added &quot;size&quot; function for determining matrix dimensions - factorial operator added - floating point data type can now be selected with the &quot;MUP_FLOAT_TYPE&quot; macro in mpDefines.h</p>
<p>Bugfixes: - Issue 14: Precedence of Unary Operators - Issue 17: Wrong result on complex power - Issue 20: Library crash when &quot; &quot; is calculated - Issue 23: min, max and sum functions return values when called without parameters - Issue 26: bugfixes for &quot;&lt;&lt;&quot; and &quot;&gt;&gt;&quot; operators. - Issue 27: Querying multiple results of comma separated expressions did not work (multiple results are no longer supported) - Issue 31: m_nPosExpr incorrect value after Eval() or GetExprVar() - untracked issue: compiling with UNICODE did not work - untracked issue: Column number of matrices were not reported correctly - untracked issue: expressions ending with newline could not be evaluated</p>
<h2 id="v2.1.6-20121221-mayan-calendar-doomsday-edition">V2.1.6 (20121221; Mayan calendar doomsday edition)</h2>
<p>Bugfixes: - Issue 16: Wrong operator precedence. Some binary operators had incorrect precedence values. - untracked issue: &quot;Unexpected variable&quot; errors could report incorrect expression positions</p>
<h2 id="v2.1.5-20121102">V2.1.5 (20121102)</h2>
<p>Bugfixes: - Issue 13: Unpredictable behaviour when using backslash character in strings; Fixed by adding support for more escape sequences (&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;&quot;, &quot;\&quot;)</p>
<h2 id="v2.1.4-20121010">V2.1.4 (20121010)</h2>
<p>Changes / Additions: - Added casting opertors to the Value class - Added project for qt creator</p>
<p>Bugfixes: - Issue 8: Crash on invalid expression in Release - Issue 11: Roots of negative numbers computed incorrectly - untracked issue: Fixed a problem caused by changes in the behaviour of tellg in GCC 4.6</p>
<h2 id="v2.1.3-20120715">V2.1.3 (20120715)</h2>
<p>Bugfixes: - Issue 7: Memory leak in GetExprVar</p>
<h2 id="v2.1.2-20120221">V2.1.2 (20120221)</h2>
<p>Changes: - License changed to the BSD-2-Clause licence</p>
<p>Bugfixes: - Compiler warnings for gcc (gcc 4.3.4) fixed - Issue 4 fixed: memory exception in mpValReader.cpp</p>
<h2 id="v2.1.1-20120201">V2.1.1 (20120201)</h2>
<p>Bugfixes: - Complex power operations could introduce small imaginary values in the result even if both arguments were real numbers. (i.e. the result of -2^8 was something like &quot;-8 + 9e-19i&quot;)</p>
<h2 id="v2.1.0-20111016">V2.1.0 (20111016)</h2>
<p>Bugfixes: - Issue 1: Assertion when using a function with multiple arguments in the same expression twice with different number of arguments. (Reference: http://code.google.com/p/muparserx/issues/detail?id=1) - Issue 2: DblValReader::IsValue broken for numbers at the end of the string</p>
<h2 id="v2.0.0-20111009">V2.0.0 (20111009)</h2>
<p>Changes: - data type changed to a matrix type instead of a vector type - Multidimensional index operator added old: &quot;m[1][2] = 1&quot; new: &quot;m[1,2] = 1&quot;</p>
<ul>
<li>internal change: type identifier for matrices is now 'm', formerly 'a' was used to indicate arrays. An arrays are now seen as subsets of matrices, there is no special type for arrays.</li>
</ul>
<p>Bugfixes: - Matrix addition and subtraction work properly now.</p>
<h2 id="v1.10.2-20110911">V1.10.2 (20110911)</h2>
<p>Bugfixes: - Fix for changed behaviour of tellg in GCC 4.6.1. A Space is now appended to every expression in order to avoid problems.</p>
<h2 id="v1.10-20110310">V1.10 (20110310)</h2>
<p>Warning: The API of this version is not backwards compatible and requires minor changes to client code!</p>
<p>Changes: - Static type checking removed entirely (All type checking must be made at runtime by the callbacks themself) - Optimizer removed. The optimizer had only limited effect since it only implemented a very simple constant folding mechanism. It collided with the new if-then-else logic and had to go. It will probably be reintroduced in one of the next versions using a different implementation. - Expressions can now span multiple lines. This only makes sense when used together with the assignment operator i.e.:</p>
<pre><code>    a=1
    b=2
    c=3
    sin(a+b+c)</code></pre>
<p>Bugfixes: - Nested if-then-else did not work properly - Sign operators extended to work with arrays - Operators &quot;==&quot; and &quot;!=&quot; did not work properly for arrays - Relational operators &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot;, &quot;&gt;=&quot; did not work for complex numbers - GCC makefile was broken in V1.09 - complex multiplication did not work correctly; was: (a+ib)(c+id)=&gt;re=ac-bd;im=ad-bc instead of: (a+ib)(c+id)=&gt;re=ac-bd;im=ad+bc - Expressions with parameterless functions like a=foo() did not evaluate properly.</p>
<h2 id="v1.09-20101120">V1.09 (20101120)</h2>
<p>Changes: - Performance increased by factor 4 due to introducing a simple memory pool for value items. - C++ like if-then-else operator added ( &quot;(a&lt;b) ? c : d&quot;)</p>
<p>Bugfixes: - Memory leak fixed which prevented operator and funtion items from beeing released.</p>
<h2 id="v1.08-20100902">V1.08 (20100902)</h2>
<p>Changes: - Implicit creation of unknown variables at parser runtime is now possibe (i.e. expressions like &quot;a=0&quot;; with a beeing a undefined variable). - Callbacks can now be organized in packages - Callbacks split into a complex and a non complex package - Complex power operator added</p>
<p>Bugfixes: - Assignment operators did not work properly for complex values - Complex sign operator fixed in order not to mess up 0 by multiplying it with -1 (-0 and 0 ar not the same according to IEEE754)</p>
<h2 id="v1.07-20100818">V1.07 (20100818)</h2>
<p>Changes: - Parsing performance improved by 20 - 30 % due to removing unnecessary copy constructor calls when returning the final result. - License changed from GPLv3 to LGPLv3 - Assignment to vector elements is now possible (i.e.: va[1]=9)</p>
<p>Bugfixes: - The Value type could not properly handle matrices (vector of vector) uses the reverse polish notation of an expression for the evaluation. - Error messages did not display the proper type id's when compiled with UNICODE support.</p>
<h2 id="v1.06-20100710">V1.06 (20100710)</h2>
<ul>
<li>Parsing performance improved by factor 2-3 due to a change which uses the reverse polish notation of an expression for the evaluation.</li>
</ul>
<h2 id="v1.05-20100530">V1.05 (20100530)</h2>
<ul>
<li>The parser now handles the associativity of binary operators properly</li>
<li>Parsing performance improved by factor 7 due to caching tokens once an expression is parsed. Successive evaluations will use the cached tokens instead of parsing from string again.</li>
</ul>
<h2 id="v1.04-20100516">V1.04 (20100516):</h2>
<ul>
<li>Querying of expression variables implemented</li>
<li>Bugfix for incorrect evaluation of expressions using the index operator added</li>
<li>nil values removed</li>
<li>Support for functions without parameters added</li>
<li>UNICODE support added</li>
</ul>
<h2 id="v1.03">V1.03:</h2>
<ul>
<li>basic functions rewritten to complex valued functions</li>
<li>Unit postfix operators added to the standard setup</li>
</ul>
<h2 id="v1.02">V1.02:</h2>
<ul>
<li>Index operator added</li>
<li>addition/subtraction of vectors added</li>
</ul>
<h2 id="v1.01">V1.01:</h2>
<ul>
<li>Complex numbers added with support for basic binary operators</li>
<li>Vector type added with support for basic operations (v*v, v+v)</li>
<li>Variable class changed to take a pointer to a value class instead of base types like int or double.</li>
</ul>
