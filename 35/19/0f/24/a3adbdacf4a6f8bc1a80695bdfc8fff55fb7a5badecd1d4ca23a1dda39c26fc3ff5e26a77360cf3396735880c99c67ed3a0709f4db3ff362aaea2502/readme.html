<h1 id="pixman">Pixman</h1>
<p>Pixman is a library that provides low-level pixel manipulation
features such as image compositing and trapezoid rasterization.</p>
<p>Questions should be directed to the pixman mailing list:</p>
<pre><code>https://lists.freedesktop.org/mailman/listinfo/pixman</code></pre>
<p>You can also file bugs at</p>
<pre><code>https://gitlab.freedesktop.org/pixman/pixman/-/issues/new</code></pre>
<p>or submit improvements in form of a Merge Request via</p>
<pre><code>https://gitlab.freedesktop.org/pixman/pixman/-/merge_requests</code></pre>
<p>For real time discussions about pixman, feel free to join the IRC
channels #cairo and #xorg-devel on the FreeNode IRC network.</p>
<h2 id="contributing">Contributing</h2>
<p>In order to contribute to pixman, you will need a working knowledge
of the git version control system. For a quick getting started guide,
there is the “Everyday Git With 20 Commands Or So guide”</p>
<pre><code>https://www.kernel.org/pub/software/scm/git/docs/everyday.html</code></pre>
<p>from the Git homepage. For more in depth git documentation, see the
resources on the Git community documentation page:</p>
<pre><code>https://git-scm.com/documentation</code></pre>
<p>Pixman uses the infrastructure from the freedesktop.org umbrella
project. For instructions about how to use the git service on
freedesktop.org, see:</p>
<pre><code>https://www.freedesktop.org/wiki/Infrastructure/git/Developers</code></pre>
<p>The Pixman master repository can be found at:</p>
<pre><code>https://gitlab.freedesktop.org/pixman/pixman</code></pre>
<h2 id="sending-patches">Sending patches</h2>
<p>Patches should be submitted in form of Merge Requests via Gitlab.</p>
<p>You will first need to create a fork of the main pixman repository
at</p>
<pre><code>https://gitlab.freedesktop.org/pixman/pixman</code></pre>
<p>via the Fork button on the top right. Once that is done you can add
your personal repository as a remote to your local pixman development
git checkout:</p>
<pre><code>git remote add my-gitlab git@gitlab.freedesktop.org:YOURUSERNAME/pixman.git

git fetch my-gitlab</code></pre>
<p>Make sure to have added ssh keys to your gitlab profile at</p>
<pre><code>https://gitlab.freedesktop.org/profile/keys</code></pre>
<p>Once that is set up, the general workflow for sending patches is to
create a new local branch with your improvements and once it’s ready
push it to your personal pixman fork:</p>
<pre><code>git checkout -b fix-some-bug
...
git push my-gitlab</code></pre>
<p>The output of the <code>git push</code> command will include a link
that allows you to create a Merge Request against the official pixman
repository.</p>
<p>Whenever you make changes to your branch (add new commits or fix up
commits) you push them back to your personal pixman fork:</p>
<pre><code>git push -f my-gitlab</code></pre>
<p>If there is an open Merge Request Gitlab will automatically pick up
the changes from your branch and pixman developers can review them
anew.</p>
<p>In order for your patches to be accepted, please consider the
following guidelines:</p>
<ul>
<li><p>At each point in the series, pixman should compile and the test
suite should pass.</p>
<p>The exception here is if you are changing the test suite to
demonstrate a bug. In this case, make one commit that makes the test
suite fail due to the bug, and then another commit that fixes the
bug.</p>
<p>You can run the test suite with</p>
<pre><code>meson test -C builddir</code></pre>
<p>It will take around two minutes to run on a modern PC.</p></li>
<li><p>Follow the coding style described in the CODING_STYLE
file</p></li>
<li><p>For bug fixes, include an update to the test suite to make sure
the bug doesn’t reappear.</p></li>
<li><p>For new features, add tests of the feature to the test suite.
Also, add a program demonstrating the new feature to the demos/
directory.</p></li>
<li><p>Write descriptive commit messages. Useful information to include:
- Benchmark results, before and after</p>
<ul>
<li>Description of the bug that was fixed</li>
<li>Detailed rationale for any new API</li>
<li>Alternative approaches that were rejected (and why they don’t
work)</li>
<li>If review comments were incorporated, a brief version history
describing what those changes were.</li>
</ul></li>
<li><p>For big patch series, write an introductory post with an overall
description of the patch series, including benchmarks and motivation.
Each commit message should still be descriptive and include enough
information to understand why this particular commit was
necessary.</p></li>
</ul>
<p>Pixman has high standards for code quality and so almost everybody
should expect to have the first versions of their patches rejected.</p>
<p>If you think that the reviewers are wrong about something, or that
the guidelines above are wrong, feel free to discuss the issue. The
purpose of the guidelines and code review is to ensure high code
quality; it is not an exercise in compliance.</p>
